(self.webpackChunk_shopee_buyer_user_mobile_default=self.webpackChunk_shopee_buyer_user_mobile_default||[]).push([[456],{4393:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ABTest=void 0;var i,o=r(5714),a=r(2546),u=(i=r(6047))&&i.__esModule?i:{default:i},c=r(4937),s=r(9919);function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new S(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=x(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var f={};function d(){}function v(){}function p(){}var y={};c(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(j([])));b&&b!==t&&r.call(b,o)&&(y=b);var _=p.prototype=d.prototype=Object.create(y);function m(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(o,a,u,c){var s=l(e[o],e,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"==n(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,u,c)}),(function(e){i("throw",e,u,c)})):t.resolve(h).then((function(e){f.value=e,u(f)}),(function(e){return i("throw",e,u,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return o=o?o.then(n,n):n()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=p,c(_,"constructor",p),c(p,"constructor",v),v.displayName=c(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},m(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(s(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(_),c(_,u,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function d(e,t,r,n,i,o,a){try{var u=e[o](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){d(o,n,i,a,u,"next",e)}function u(e){d(o,n,i,a,u,"throw",e)}a(void 0)}))}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(){function e(t){var r,n,i,u;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"_initConfig",void 0),y(this,"_url",void 0),y(this,"_cache",void 0),!t.country)throw Error("需要配置country参数, 如SG, ID");if(!t.bizName)throw Error("需要提供当前接入的业务方, 如ci.abtest-trafficservice");this._initConfig=t,this._debug("AB Test init Params:"),this._debug(t),a.env2AbEnv.enableStaging(t.enableStaging),t.devMode&&null!==(r=globalThis.location)&&void 0!==r&&null!==(n=r.host)&&void 0!==n&&null!==(i=n.includes)&&void 0!==i&&i.call(n,"localhost:")?this._url=(0,c.getDevModeTrafficApi)(t.env):t.isWsa?this._url=(0,c.getWsaTrafficApi)():this._url=(0,c.getTrafficApi)(t.env),this._debug("Traffic Path:"),this._debug(this._url),this._cache=new o.ABCache(t),(null!==(u=t.isInitFetch)&&void 0!==u?u:a.defaultConfig.isInitFetch)&&this.getExperiments()}var t,r,n,i,f,d,g,b,_,m;return t=e,r=[{key:"getExperiments",value:(m=v(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getExperiments"),e.next=3,this._fetchTrafficResult(t);case 3:return n=e.sent,e.abrupt("return",null!==(r=null==n?void 0:n.experiments)&&void 0!==r?r:[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"getExperiment",value:(_=v(h().mark((function e(t,r){var n,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getExperiment"),e.next=3,this.getExperiments(r);case 3:return n=e.sent,i=n.find((function(e){return e.exp_name===t})),this._debug(i),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return _.apply(this,arguments)})},{key:"getFeatures",value:(b=v(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getFeatures"),e.next=3,this._fetchTrafficResult(t);case 3:return n=e.sent,e.abrupt("return",null!==(r=null==n?void 0:n.feature_map)&&void 0!==r?r:[]);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"getFeatureByKey",value:(g=v(h().mark((function e(t,r){var n,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getFeatureByKey"),e.next=3,this.getFeatures(r);case 3:return n=e.sent,i=n.find((function(e){return e.feature_key===t})),this._debug(i),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return g.apply(this,arguments)})},{key:"_fetchTrafficResult",value:(d=v(h().mark((function e(t){var r,n,i,o,a,u,c,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._debug("内部请求分流结果"),this._cache.setMergedConfig(t),(o=null===(r=this._cache)||void 0===r?void 0:r.getMergedConfig()).sceneKeys&&0!==o.sceneKeys.filter((function(e){return e})).length){e.next=6;break}return this._debug("Scene Key 为空, 没有拉取实验"),e.abrupt("return");case 6:if(a=this._cache.getTraffic(),this._debug("获取分流缓存结果"),this._debug(a),null==a||!a.resp){e.next=12;break}return null!=a&&a.needRefresh&&this.fetch(o.sceneKeys,o.country,null!==(c=o.filters)&&void 0!==c?c:[],void 0,t),e.abrupt("return",null!==(u=null==a?void 0:a.resp)&&void 0!==u?u:[]);case 12:return e.next=14,this.fetch(o.sceneKeys,o.country,null!==(n=o.filters)&&void 0!==n?n:[],void 0,t);case 14:return s=e.sent,e.abrupt("return",null==s||null===(i=s.data)||void 0===i?void 0:i[0]);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"_getExpReq",value:function(e){return e||(e=this._cache.getMergedConfig()),{meta:{country:e.country,customid:e.customid,userid_str:e.userid,shopid_str:e.shopid,device_fingerprint:e.device_fingerprint},filter_data:e.filters,biz_name:e.bizName,scene_keys:e.sceneKeys}}},{key:"fetchInc",value:(f=v(h().mark((function e(t,r,n,i,o){var a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetch(Array.from(new Set([].concat(l(null!==(a=this._initConfig.sceneKeys)&&void 0!==a?a:[]),l(t)))),r,n,i,o));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,i){return f.apply(this,arguments)})},{key:"fetch",value:(i=v(h().mark((function e(t,r,n,i,o){var c,s,l,f,d,v,p,y,g,b,_,m,w,x,O;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=null!=o?o:{},t&&(d.sceneKeys=t),r&&(d.country=r),n&&(d.filters=n),this._debug("newOptions"),this._debug(d),this._cache.setMergedConfig(d),v=this._getExpReq(),this._debug("Fetch Exp Req Body"),this._debug(v),!i||"function"!=typeof i){e.next=18;break}return e.next=13,i(this._url,v);case 13:if(f=e.sent,!(null!==(p=f)&&void 0!==p&&p.error||null!==(y=f)&&void 0!==y&&y.error_msg)){e.next=16;break}throw Error("error: ".concat(null===(g=f)||void 0===g?void 0:g.error,", error msg: ").concat(null===(b=f)||void 0===b?void 0:b.error_msg));case 16:e.next=29;break;case 18:return e.next=20,(0,u.default)(this._url,{method:"POST",headers:a.reqHeaders,body:JSON.stringify(v),credentials:"include"});case 20:if(f=e.sent,null!==(_=f)&&void 0!==_&&_.ok){e.next=23;break}throw Error("网络异常, Status: ".concat(f.status,":").concat(f.statusText,", Text: ").concat(f.text));case 23:return e.next=25,f.json();case 25:if(f=e.sent,!(null!==(m=f)&&void 0!==m&&m.error||null!==(w=f)&&void 0!==w&&w.error_msg)){e.next=28;break}throw Error("error: ".concat(null===(x=f)||void 0===x?void 0:x.error,", error msg: ").concat(null===(O=f)||void 0===O?void 0:O.error_msg));case 28:f&&f.data&&0!==f.data.length||this._debug("对应的场景没有web实验, 您可以去站点上创建并开启实验");case 29:return this._debug("请求成功"),this._debug("分流信息: "),this._debug(null===(c=f)||void 0===c?void 0:c.data[0]),this._cache.setTraffic(null===(s=f)||void 0===s||null===(l=s.data)||void 0===l?void 0:l[0]),this._debug("Resp Body"),this._debug(f),e.abrupt("return",f);case 36:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return i.apply(this,arguments)})},{key:"_debug",value:function(e){this._initConfig.debug&&(0,s.debug)(e)}},{key:"getVersion",value:function(){return this._cache.getVersion()}},{key:"getGroupIdByPointId",value:function(e){return this._cache.getGroupIdByPointId(e)}},{key:"getCache",value:function(){return this._cache.getCache()}}],n=[{key:"init",value:function(t){t.filters||(t.filters=[]);var r=new e(t);return globalThis[a.windowInjectKey]=r,r}}],r&&p(t.prototype,r),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ABTest=g},5714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ABCache=void 0;var n,i=(n=r(9039))&&n.__esModule?n:{default:n},o=r(2923),a=r(2546),u=r(9919),c=r(5998);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(){function e(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"_cache",void 0),h(this,"_cacheTime",void 0),h(this,"_initConfig",void 0),h(this,"_cacheKey",""),h(this,"_mergedConfig",{}),this._initConfig=null!=t?t:{},this._cacheTime=null!==(r=null==t?void 0:t.cacheTime)&&void 0!==r?r:a.defaultConfig.cacheTime,this.setMergedConfig();var n=(0,o.getStorage)();this._cache=null!=n?n:{}}var t,r;return t=e,(r=[{key:"_debug",value:function(e){var t;null!==(t=this._initConfig)&&void 0!==t&&t.debug&&(0,u.debug)(e)}},{key:"validateCache",value:function(){var e,t={needRefresh:!0};if(this._cacheTime===a.nocache)return this._debug("设置为不使用本地缓存, 当前内容session有效"),t;var r=null===(e=this._cache)||void 0===e?void 0:e[this._cacheKey];return r&&r.resp?!r.expireTime||(0,c.isBefore)(r.expireTime,(0,c.currentDate)())?this._initConfig.cacheExpireRefresh?(this._debug("缓存已经失效 但是优先使用缓存结果"),t.resp=r.resp,t):(this._debug("缓存已经失效"),t):(this._debug("缓存失效时间为".concat((0,c.formateDate)(null==r?void 0:r.expireTime))),this._debug("当前时间为".concat((0,c.formateDate)(new Date))),this._debug("从缓存中拉取信息"),t.resp=r.resp,t.needRefresh=!1,t):(this._debug("本地无对应缓存"),t)}},{key:"getTraffic",value:function(){var e;return null!==(e=this.validateCache())&&void 0!==e?e:{}}},{key:"setTraffic",value:function(e){var t,r={resp:e,config:this._mergedConfig,expireTime:(0,c.currentDate)(this._cacheTime)};this._cache[this._cacheKey]=r,this._debug("更新内存信息"),this._debug(this._cache);var n=null!==(t=(0,o.getStorage)())&&void 0!==t?t:{};n[this._cacheKey]=r,this._debug("更新缓存信息"),this._debug(n),(0,o.setStorage)(n)}},{key:"getVersion",value:function(){var e,t,r=null===(e=this._cache)||void 0===e||null===(t=e[this._cacheKey])||void 0===t?void 0:t.resp;return this._debug("TMS获取版本信息"),this._debug(null==r?void 0:r.version),null==r?void 0:r.version}},{key:"getGroupIdByPointId",value:function(e){var t,r,n,i,o,a=null===(t=this._cache)||void 0===t||null===(r=t[this._cacheKey])||void 0===r?void 0:r.resp,u=null!==(n=null==a||null===(i=a.point_infos)||void 0===i||null===(o=i.find((function(t){return t.point_id===e})))||void 0===o?void 0:o.group_ids)&&void 0!==n?n:[];if(this._debug("根据Pointid".concat(e,"获取实验分组")),this._debug(u),0===u.length){var c=Object.values(this._cache).reduce((function(e,t){var r,n;return e.concat(null!==(r=null===(n=t.resp)||void 0===n?void 0:n.point_infos)&&void 0!==r?r:[])}),[]).filter((function(t){return t.point_id===e})).flatMap((function(e){return e.group_ids}));u=Array.from(new Set(c))}return u}},{key:"getCache",value:function(){return this._cache}},{key:"setMergedConfig",value:function(e){this._mergedConfig=l(l({},this._initConfig),null!=e?e:{}),this.setCacheKey()}},{key:"setCacheKey",value:function(){var e=this._mergedConfig;this._cacheKey=(0,i.default)(JSON.stringify({meta:{country:e.country,customid:e.customid,userid_str:e.userid,shopid_str:e.shopid,device_fingerprint:e.device_fingerprint},filter_data:e.filters,biz_name:e.bizName,scene_keys:e.sceneKeys}))}},{key:"getMergedConfig",value:function(){return this._mergedConfig}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.ABCache=d},2546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowInjectKey=t.url2EnvMap=t.trafficAPI=t.reqHeaders=t.noneLiveEnv=t.nocache=t.localStorageKey=t.liveEnvUrl=t.env2UrlMap=t.env2AbEnv=t.defaultConfig=t.countryPostfixMap=t.byFeatureAPI=void 0;var n=r(9919);t.trafficAPI="api/v4/abtest/traffic/get_web_experiments",t.byFeatureAPI="api/v4/abtest/traffic/get_feature_by_feature_key",t.localStorageKey="__abtest__",t.windowInjectKey="__abtest__",t.nocache=0,t.liveEnvUrl="",t.defaultConfig={cacheTime:5,isInitFetch:!1};var i={live:"",liveish:"live-test",uat:"uat",test:"test",staging:"staging",stable:"test-stable"};t.env2UrlMap=i;var o=Object.values(i).filter((function(e){return""!==e}));t.noneLiveEnv=o;var a=(0,n.flip)(i);t.url2EnvMap=a,t.env2AbEnv={staging:"test","test-stable":"test",enableStaging:function(e){this.staging=e?"staging":"test"}},t.reqHeaders={"Content-Type":"application/json"},t.countryPostfixMap={shopeepay:"shopeepay.",shopee:"shopee."}},5998:(e,t)=>{"use strict";function r(e,t){return"number"==typeof e&&(e=new Date(e)),e.setMinutes(e.getMinutes()+t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.addMin=r,t.currentDate=function(e){return e?r(new Date,e).valueOf():Date.now()},t.formateDate=function(e){return"number"==typeof e&&(e=new Date(e)),e.toString()},t.isBefore=function(e,t){return void 0!==e&&("number"!=typeof e&&(e=new Date(e)),"number"!=typeof t&&(t=new Date(t)),e.valueOf()<t.valueOf())}},6047:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((n=r(2400))&&n.__esModule?n:{default:n}).default;t.default=i},4937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDevModeTrafficApi=function(e){return"//abtest-api.dataplt.".concat(null!=e?e:"test",".shopee.io/").concat(n.trafficAPI)},t.getTrafficApi=function(e){var t,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(null===globalThis||void 0===globalThis||null===(t=globalThis.location)||void 0===t?void 0:t.hostname)||"";e?(r=n.env2UrlMap[e],(0,i.isValidKey)(r,n.env2AbEnv)&&(r=n.env2AbEnv[r])):r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===globalThis||void 0===globalThis||null===(e=globalThis.location)||void 0===e?void 0:e.hostname;if(!t||null!=t&&t.includes("localhost"))return"test";var r,i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))){t&&(e=t);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(u)throw i}}}}(n.noneLiveEnv);try{for(i.s();!(r=i.n()).done;){var o=r.value,u=t.lastIndexOf("".concat(o,"."));if(0===u||"."===t[u-1])return"staging"===o||"test-stable"===o?n.env2AbEnv[o]:o}}catch(c){i.e(c)}finally{i.f()}return n.liveEnvUrl}(u);var c="";r!==n.liveEnvUrl&&(c=".");for(var s="",l=0,f=Object.entries(n.countryPostfixMap);l<f.length;l++){var h=o(f[l],2),d=h[0],v=h[1];if(u.includes(d)){s=o(u.split(v),2)[1];break}}return"io"!==s&&s||(s="sg"),"//".concat(r).concat(c,"shopee.").concat(s,"/").concat(n.trafficAPI)},t.getWsaTrafficApi=function(){return"/".concat(n.trafficAPI)};var n=r(2546),i=r(9919);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},9756:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ABTest:!0};Object.defineProperty(t,"ABTest",{enumerable:!0,get:function(){return i.ABTest}});var i=r(4393),o=r(2111);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},2923:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStorage=function(){try{var e=globalThis.localStorage.getItem(n.localStorageKey);if(e)return JSON.parse(e)}catch(t){}return null},t.setStorage=function(e){try{globalThis.localStorage.setItem(n.localStorageKey,JSON.stringify(e))}catch(t){}};var n=r(2546)},2111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9919:(e,t)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.debug=function(e){},t.flip=void 0,t.hasSetId=function(e){return!!(e.shopid||e.userid||e.customid||e.device_fingerprint)},t.isValidKey=function(e,t){return e in t},t.flip=function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0];return[i[1],o]})))}},8953:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},3033:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}},e.exports=r},3819:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},2400:(e,t,r)=>{e.exports=self.fetch||(self.fetch=r(3073).default||r(3073))},9039:(e,t,r)=>{var n,i,o,a,u;n=r(3033),i=r(8953).utf8,o=r(3819),a=r(8953).bin,(u=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),c=8*e.length,s=1732584193,l=-271733879,f=-1732584194,h=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var v=u._ff,p=u._gg,y=u._hh,g=u._ii;for(d=0;d<r.length;d+=16){var b=s,_=l,m=f,w=h;s=v(s,l,f,h,r[d+0],7,-680876936),h=v(h,s,l,f,r[d+1],12,-389564586),f=v(f,h,s,l,r[d+2],17,606105819),l=v(l,f,h,s,r[d+3],22,-1044525330),s=v(s,l,f,h,r[d+4],7,-176418897),h=v(h,s,l,f,r[d+5],12,1200080426),f=v(f,h,s,l,r[d+6],17,-1473231341),l=v(l,f,h,s,r[d+7],22,-45705983),s=v(s,l,f,h,r[d+8],7,1770035416),h=v(h,s,l,f,r[d+9],12,-1958414417),f=v(f,h,s,l,r[d+10],17,-42063),l=v(l,f,h,s,r[d+11],22,-1990404162),s=v(s,l,f,h,r[d+12],7,1804603682),h=v(h,s,l,f,r[d+13],12,-40341101),f=v(f,h,s,l,r[d+14],17,-1502002290),s=p(s,l=v(l,f,h,s,r[d+15],22,1236535329),f,h,r[d+1],5,-165796510),h=p(h,s,l,f,r[d+6],9,-1069501632),f=p(f,h,s,l,r[d+11],14,643717713),l=p(l,f,h,s,r[d+0],20,-373897302),s=p(s,l,f,h,r[d+5],5,-701558691),h=p(h,s,l,f,r[d+10],9,38016083),f=p(f,h,s,l,r[d+15],14,-660478335),l=p(l,f,h,s,r[d+4],20,-405537848),s=p(s,l,f,h,r[d+9],5,568446438),h=p(h,s,l,f,r[d+14],9,-1019803690),f=p(f,h,s,l,r[d+3],14,-187363961),l=p(l,f,h,s,r[d+8],20,1163531501),s=p(s,l,f,h,r[d+13],5,-1444681467),h=p(h,s,l,f,r[d+2],9,-51403784),f=p(f,h,s,l,r[d+7],14,1735328473),s=y(s,l=p(l,f,h,s,r[d+12],20,-1926607734),f,h,r[d+5],4,-378558),h=y(h,s,l,f,r[d+8],11,-2022574463),f=y(f,h,s,l,r[d+11],16,1839030562),l=y(l,f,h,s,r[d+14],23,-35309556),s=y(s,l,f,h,r[d+1],4,-1530992060),h=y(h,s,l,f,r[d+4],11,1272893353),f=y(f,h,s,l,r[d+7],16,-155497632),l=y(l,f,h,s,r[d+10],23,-1094730640),s=y(s,l,f,h,r[d+13],4,681279174),h=y(h,s,l,f,r[d+0],11,-358537222),f=y(f,h,s,l,r[d+3],16,-722521979),l=y(l,f,h,s,r[d+6],23,76029189),s=y(s,l,f,h,r[d+9],4,-640364487),h=y(h,s,l,f,r[d+12],11,-421815835),f=y(f,h,s,l,r[d+15],16,530742520),s=g(s,l=y(l,f,h,s,r[d+2],23,-995338651),f,h,r[d+0],6,-198630844),h=g(h,s,l,f,r[d+7],10,1126891415),f=g(f,h,s,l,r[d+14],15,-1416354905),l=g(l,f,h,s,r[d+5],21,-57434055),s=g(s,l,f,h,r[d+12],6,1700485571),h=g(h,s,l,f,r[d+3],10,-1894986606),f=g(f,h,s,l,r[d+10],15,-1051523),l=g(l,f,h,s,r[d+1],21,-2054922799),s=g(s,l,f,h,r[d+8],6,1873313359),h=g(h,s,l,f,r[d+15],10,-30611744),f=g(f,h,s,l,r[d+6],15,-1560198380),l=g(l,f,h,s,r[d+13],21,1309151649),s=g(s,l,f,h,r[d+4],6,-145523070),h=g(h,s,l,f,r[d+11],10,-1120210379),f=g(f,h,s,l,r[d+2],15,718787259),l=g(l,f,h,s,r[d+9],21,-343485551),s=s+b>>>0,l=l+_>>>0,f=f+m>>>0,h=h+w>>>0}return n.endian([s,l,f,h])})._ff=function(e,t,r,n,i,o,a){var u=e+(t&r|~t&n)+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._gg=function(e,t,r,n,i,o,a){var u=e+(t&n|r&~n)+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._hh=function(e,t,r,n,i,o,a){var u=e+(t^r^n)+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._ii=function(e,t,r,n,i,o,a){var u=e+(r^(t|~n))+(i>>>0)+a;return(u<<o|u>>>32-o)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(u(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},3073:(e,t,r)=>{"use strict";function n(e,t){return t=t||{},new Promise((function(r,n){var i=new XMLHttpRequest,o=[],a=[],u={},c=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return u[e.toLowerCase()]},has:function(e){return e.toLowerCase()in u}}}};for(var s in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){o.push(t=t.toLowerCase()),a.push([t,r]),u[t]=u[t]?u[t]+","+r:r})),r(c())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(s,t.headers[s]);i.send(t.body||null)}))}r.r(t),r.d(t,{default:()=>n})},8542:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=a(t,r));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},1986:(e,t,r)=>{"use strict";function n(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}r.d(t,{Z:()=>n})},1630:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=Object.assign.bind()}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/mobilemall-buyerusermobiledefault/_/456.94f0c22291c505cf031d.js.map