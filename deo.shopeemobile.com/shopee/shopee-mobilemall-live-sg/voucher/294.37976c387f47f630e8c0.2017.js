(self.webpackChunk_shopee_voucher_rw=self.webpackChunk_shopee_voucher_rw||[]).push([[294],{310:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},318:(e,t,r)=>{"use strict";var n,i=r(2140);Object.defineProperty(t,"__esModule",{value:!0}),t.ABCache=void 0;var o=(n=r(8236))&&n.__esModule?n:{default:n},u=r(1441),a=r(4707),s=r(4625),c=r(5033);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.ABCache=function(){var e;function t(e){if(!i._(this,t))throw TypeError("Cannot call a class as a function");h(this,"_cache",void 0),h(this,"_cacheTime",void 0),h(this,"_initConfig",void 0),h(this,"_cacheKey",""),h(this,"_mergedConfig",{}),this._initConfig=null!=e?e:{},this._cacheTime=null!=(r=null==e?void 0:e.cacheTime)?r:a.defaultConfig.cacheTime,this.setMergedConfig();var r,n=(0,u.getStorage)();this._cache=null!=n?n:{}}return e=[{key:"_debug",value:function(e){var t;null!=(t=this._initConfig)&&t.debug&&(0,s.debug)(e)}},{key:"validateCache",value:function(){var e,t={needRefresh:!0};if(this._cacheTime===a.nocache)return this._debug("设置为不使用本地缓存, 当前内容session有效"),t;var r=null==(e=this._cache)?void 0:e[this._cacheKey];if(!r||!r.resp)return this._debug("本地无对应缓存"),t;if(!r.expireTime||(0,c.isBefore)(r.expireTime,(0,c.currentDate)()))if(this._initConfig.cacheExpireRefresh)return this._debug("缓存已经失效 但是优先使用缓存结果"),t.resp=r.resp,t;else return this._debug("缓存已经失效"),t;return this._debug("缓存失效时间为".concat((0,c.formateDate)(null==r?void 0:r.expireTime))),this._debug("当前时间为".concat((0,c.formateDate)(new Date))),this._debug("从缓存中拉取信息"),t.resp=r.resp,t.needRefresh=!1,t}},{key:"getTraffic",value:function(){var e;return null!=(e=this.validateCache())?e:{}}},{key:"setTraffic",value:function(e){var t,r={resp:e,config:this._mergedConfig,expireTime:(0,c.currentDate)(this._cacheTime)};this._cache[this._cacheKey]=r,this._debug("更新内存信息"),this._debug(this._cache);var n=null!=(t=(0,u.getStorage)())?t:{};n[this._cacheKey]=r,this._debug("更新缓存信息"),this._debug(n),(0,u.setStorage)(n)}},{key:"getVersion",value:function(){var e,t,r=null==(e=this._cache)||null==(t=e[this._cacheKey])?void 0:t.resp;return this._debug("TMS获取版本信息"),this._debug(null==r?void 0:r.version),null==r?void 0:r.version}},{key:"getGroupIdByPointId",value:function(e){var t,r,n,i,o,u=null==(t=this._cache)||null==(r=t[this._cacheKey])?void 0:r.resp,a=null!=(n=null==u||null==(i=u.point_infos)||null==(o=i.find(function(t){return t.point_id===e}))?void 0:o.group_ids)?n:[];return this._debug("根据Pointid".concat(e,"获取实验分组")),this._debug(a),0===a.length&&(a=Array.from(new Set(Object.values(this._cache).reduce(function(e,t){var r,n;return e.concat(null!=(r=null==(n=t.resp)?void 0:n.point_infos)?r:[])},[]).filter(function(t){return t.point_id===e}).flatMap(function(e){return e.group_ids})))),a}},{key:"getCache",value:function(){return this._cache}},{key:"setMergedConfig",value:function(e){this._mergedConfig=f(f({},this._initConfig),null!=e?e:{}),this.setCacheKey()}},{key:"setCacheKey",value:function(){var e=this._mergedConfig;this._cacheKey=(0,o.default)(JSON.stringify({meta:{country:e.country,customid:e.customid,userid_str:e.userid,shopid_str:e.shopid,device_fingerprint:e.device_fingerprint},filter_data:e.filters,biz_name:e.bizName,scene_keys:e.sceneKeys}))}},{key:"getMergedConfig",value:function(){return this._mergedConfig}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},378:(e,t,r)=>{"use strict";e.exports=r(8887)},1441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStorage=function(){try{var e=globalThis.localStorage.getItem(n.localStorageKey);if(e)return JSON.parse(e)}catch(e){}return null},t.setStorage=function(e){try{globalThis.localStorage.setItem(n.localStorageKey,JSON.stringify(e))}catch(e){}};var n=r(4707)},2337:(e,t,r)=>{"use strict";function n(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],u=[],a={},s=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:s,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,r){o.push(t=t.toLowerCase()),u.push([t,r]),a[t]=a[t]?a[t]+","+r:r}),r(s())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)})}r.r(t),r.d(t,{default:()=>n})},2455:(e,t,r)=>{"use strict";r.d(t,{I:()=>T});var n,i=r(5283),o=r(9469),u=r(9507),a=r(7809),s=r(276),c=r(1737),l=r(6551),f=r(6315),h=function(e){function t(t,r){var n;return(n=e.call(this)||this).client=t,n.options=r,n.trackedProps=new Set,n.selectError=null,n.bindMethods(),n.setOptions(r),n}(0,u._)(t,e);var r=t.prototype;return r.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},r.onSubscribe=function(){1===this.listeners.size&&(this.currentQuery.addObserver(this),d(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},r.onUnsubscribe=function(){this.hasListeners()||this.destroy()},r.shouldFetchOnReconnect=function(){return p(this.currentQuery,this.options,this.options.refetchOnReconnect)},r.shouldFetchOnWindowFocus=function(){return p(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},r.destroy=function(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)},r.setOptions=function(e,t){var r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,i.f8)(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();var o=this.hasListeners();o&&v(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),o&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();o&&(this.currentQuery!==n||this.options.enabled!==r.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},r.getOptimisticResult=function(e){var t,r,n,o=this.client.getQueryCache().build(this.client,e),u=this.createResult(o,e);return t=this,r=u,(n=e).keepPreviousData||(void 0!==n.placeholderData?!r.isPlaceholderData:(0,i.f8)(t.getCurrentResult(),r))||(this.currentResult=u,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),u},r.getCurrentResult=function(){return this.currentResult},r.trackResult=function(e){var t=this,r={};return Object.keys(e).forEach(function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:function(){return t.trackedProps.add(n),e[n]}})}),r},r.getCurrentQuery=function(){return this.currentQuery},r.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},r.refetch=function(e){void 0===e&&(e={});var t=e.refetchPage,r=(0,a._)(e,["refetchPage"]);return this.fetch((0,o._)({},r,{meta:{refetchPage:t}}))},r.fetchOptimistic=function(e){var t=this,r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(function(){return t.createResult(n,r)})},r.fetch=function(e){var t,r=this;return this.executeFetch((0,o._)({},e,{cancelRefetch:null==(t=e.cancelRefetch)||t})).then(function(){return r.updateResult(),r.currentResult})},r.executeFetch=function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(i.lQ)),t},r.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!i.S$&&!this.currentResult.isStale&&(0,i.gn)(this.options.staleTime)){var t=(0,i.j3)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},t+1)}},r.computeRefetchInterval=function(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e},r.updateRefetchInterval=function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!i.S$&&!1!==this.options.enabled&&(0,i.gn)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||c.m.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},r.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},r.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},r.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},r.createResult=function(e,t){var r,n,o=this.currentQuery,u=this.options,a=this.currentResult,s=this.currentResultState,c=this.currentResultOptions,l=e!==o,h=l?e.state:this.currentQueryInitialState,p=l?this.currentResult:this.previousQueryResult,g=e.state,b=g.dataUpdatedAt,m=g.error,_=g.errorUpdatedAt,x=g.fetchStatus,w=g.status,S=!1,O=!1;if(t._optimisticResults){var E=this.hasListeners(),R=!E&&d(e,t),T=E&&v(e,o,t,u);(R||T)&&(x=(0,f.v_)(e.options.networkMode)?"fetching":"paused",b||(w="loading")),"isRestoring"===t._optimisticResults&&(x="idle")}if(t.keepPreviousData&&!g.dataUpdatedAt&&null!=p&&p.isSuccess&&"error"!==w)r=p.data,b=p.dataUpdatedAt,w=p.status,S=!0;else if(t.select&&void 0!==g.data)if(a&&g.data===(null==s?void 0:s.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(g.data),r=(0,i.pl)(null==a?void 0:a.data,r,t),this.selectResult=r,this.selectError=null}catch(e){this.selectError=e}else r=g.data;if(void 0!==t.placeholderData&&void 0===r&&"loading"===w){if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==c?void 0:c.placeholderData))n=a.data;else if(n="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==n)try{n=t.select(n),this.selectError=null}catch(e){this.selectError=e}void 0!==n&&(w="success",r=(0,i.pl)(null==a?void 0:a.data,n,t),O=!0)}this.selectError&&(m=this.selectError,r=this.selectResult,_=Date.now(),w="error");var C="fetching"===x,I="loading"===w,j="error"===w;return{status:w,fetchStatus:x,isLoading:I,isSuccess:"success"===w,isError:j,isInitialLoading:I&&C,data:r,dataUpdatedAt:b,error:m,errorUpdatedAt:_,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!I,isLoadingError:j&&0===g.dataUpdatedAt,isPaused:"paused"===x,isPlaceholderData:O,isPreviousData:S,isRefetchError:j&&0!==g.dataUpdatedAt,isStale:y(e,t),refetch:this.refetch,remove:this.remove}},r.updateResult=function(e){var t=this,r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!(0,i.f8)(n,r)){this.currentResult=n;var u={cache:!0};(null==e?void 0:e.listeners)!==!1&&function(){if(!r)return!0;var e=t.options.notifyOnChangeProps,n="function"==typeof e?e():e;if("all"===n||!n&&!t.trackedProps.size)return!0;var i=new Set(null!=n?n:t.trackedProps);return t.options.useErrorBoundary&&i.add("error"),Object.keys(t.currentResult).some(function(e){return t.currentResult[e]!==r[e]&&i.has(e)})}()&&(u.listeners=!0),this.notify((0,o._)({},u,e))}},r.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}},r.onQueryUpdate=function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,f.wm)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},r.notify=function(e){var t=this;s.j.batch(function(){var r,n,i,o,u,a,s,c;e.onSuccess?(null==(r=(n=t.options).onSuccess)||r.call(n,t.currentResult.data),null==(i=(o=t.options).onSettled)||i.call(o,t.currentResult.data,null)):e.onError&&(null==(u=(a=t.options).onError)||u.call(a,t.currentResult.error),null==(s=(c=t.options).onSettled)||s.call(c,void 0,t.currentResult.error)),e.listeners&&t.listeners.forEach(function(e){(0,e.listener)(t.currentResult)}),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},t}(l.Q);function d(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&("error"!==e.state.status||!1!==t.retryOnMount)||e.state.dataUpdatedAt>0&&p(e,t,t.refetchOnMount)}function p(e,t,r){if(!1!==t.enabled){var n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&y(e,t)}return!1}function v(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&y(e,r)}function y(e,t){return e.isStaleByTime(t.staleTime)}var g=r(1594),b=r(378).useSyncExternalStore,m=g.createContext((n=!1,{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}})),_=r(330),x=g.createContext(!1);x.Provider;var w=function(e,t){(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},S=function(e){g.useEffect(function(){e.clearReset()},[e])},O=function(e){var t,r=e.result,n=e.errorResetBoundary,i=e.useErrorBoundary,o=e.query;return r.isError&&!n.isReset()&&!r.isFetching&&(t=[r.error,o],"function"==typeof i?i.apply(void 0,[].concat(t)):!!i)},E=function(e){e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},R=function(e,t,r){return(null==e?void 0:e.suspense)&&t.isLoading&&t.isFetching&&!r};function T(e,t,r){return function(e,t){var r=(0,_.jE)({context:e.context}),n=g.useContext(x),i=g.useContext(m),o=r.defaultQueryOptions(e);o._optimisticResults=n?"isRestoring":"optimistic",o.onError&&(o.onError=s.j.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=s.j.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=s.j.batchCalls(o.onSettled)),E(o),w(o,i),S(i);var u=g.useState(function(){return new t(r,o)})[0],a=u.getOptimisticResult(o);if(b(g.useCallback(function(e){var t=n?function(){}:u.subscribe(s.j.batchCalls(e));return u.updateResult(),t},[u,n]),function(){return u.getCurrentResult()},function(){return u.getCurrentResult()}),g.useEffect(function(){u.setOptions(o,{listeners:!1})},[o,u]),R(o,a,n))throw u.fetchOptimistic(o).then(function(e){var t=e.data;null==o.onSuccess||o.onSuccess(t),null==o.onSettled||o.onSettled(t,null)}).catch(function(e){i.clearReset(),null==o.onError||o.onError(e),null==o.onSettled||o.onSettled(void 0,e)});if(O({result:a,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:u.getCurrentQuery()}))throw a.error;return o.notifyOnChangeProps?a:u.trackResult(a)}((0,i.vh)(e,t,r),h)}},2552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ABTest:!0};Object.defineProperty(t,"ABTest",{enumerable:!0,get:function(){return i.ABTest}});var i=r(6493),o=r(310);Object.keys(o).forEach(function(e){"default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})})},3370:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.d(t,{_:()=>i})},3479:(e,t,r)=>{e.exports=self.fetch||(self.fetch=r(2337).default||r(2337))},3627:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.exports=r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&r.rotl(e,8)|0xff00ff00&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}}},4625:(e,t)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.debug=function(e){},t.flip=void 0,t.hasSetId=function(e){return!!(e.shopid||e.userid||e.customid||e.device_fingerprint)},t.isValidKey=function(e,t){return e in t},t.flip=function(e){return Object.fromEntries(Object.entries(e).map(function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],u=!0,a=!1;try{for(i=i.call(e);!(u=(r=i.next()).done)&&(o.push(r.value),2!==o.length);u=!0);}catch(e){a=!0,n=e}finally{try{u||null==i.return||i.return()}finally{if(a)throw n}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return r(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,2)}}(e,2)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),n=t[0];return[t[1],n]}))}},4707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowInjectKey=t.url2EnvMap=t.trafficAPI=t.reqHeaders=t.noneLiveEnv=t.nocache=t.localStorageKey=t.liveEnvUrl=t.env2UrlMap=t.env2AbEnv=t.defaultConfig=t.countryPostfixMap=t.byFeatureAPI=void 0;var n=r(4625);t.trafficAPI="api/v4/abtest/traffic/get_web_experiments",t.byFeatureAPI="api/v4/abtest/traffic/get_feature_by_feature_key",t.localStorageKey="__abtest__",t.windowInjectKey="__abtest__",t.nocache=0,t.liveEnvUrl="",t.defaultConfig={cacheTime:5,isInitFetch:!1};var i={live:"",liveish:"live-test",uat:"uat",test:"test",staging:"staging",stable:"test-stable"};t.env2UrlMap=i,t.noneLiveEnv=Object.values(i).filter(function(e){return""!==e}),t.url2EnvMap=(0,n.flip)(i),t.env2AbEnv={staging:"test","test-stable":"test",enableStaging:function(e){e?this.staging="staging":this.staging="test"}},t.reqHeaders={"Content-Type":"application/json"},t.countryPostfixMap={shopeepay:"shopeepay.",shopee:"shopee."}},5033:(e,t)=>{"use strict";function r(e,t){return"number"==typeof e&&(e=new Date(e)),e.setMinutes(e.getMinutes()+t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.addMin=r,t.currentDate=function(e){return e?r(new Date,e).valueOf():Date.now()},t.formateDate=function(e){return"number"==typeof e&&(e=new Date(e)),e.toString()},t.isBefore=function(e,t){return void 0!==e&&("number"!=typeof e&&(e=new Date(e)),"number"!=typeof t&&(t=new Date(t)),e.valueOf()<t.valueOf())}},6493:(e,t,r)=>{"use strict";var n,i=r(2140);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ABTest=void 0;var u=r(318),a=r(4707),s=(n=r(7392))&&n.__esModule?n:{default:n},c=r(9603),l=r(4625);function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,void 0)}}(e)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},u=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o,u=Object.create((t&&i._(t.prototype,p)?t:p).prototype),a=new E(n||[]);return o="suspendedStart",u._invoke=function(t,n){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===t)throw n;return T()}for(a.method=t,a.arg=n;;){var i=a.delegate;if(i){var u=function e(t,r){var n=t.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method))return h;r.method="throw",r.arg=TypeError("The iterator does not provide a 'throw' method")}return h}var i=f(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,h)}(i,a);if(u){if(u===h)continue;return u}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var s=f(e,r,a);if("normal"===s.type){if(o=a.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(o="completed",a.method="throw",a.arg=s.arg)}},u}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function p(){}function v(){}function y(){}var g={};c(g,u,function(){return this});var b=Object.getPrototypeOf,m=b&&b(b(R([])));m&&m!==t&&r.call(m,u)&&(g=m);var _=y.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(i,u){function a(){return new t(function(n,a){!function n(i,u,a,s){var c=f(e[i],e,u);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==o(h)&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(h).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(c.arg)}(i,u,n,a)})}return n=n?n.then(a,a):a()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function R(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=y,c(_,"constructor",y),c(y,"constructor",v),v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var u=new w(l(t,r,n,i),o);return e.isGeneratorFunction(r)?u:u.next().then(function(e){return e.done?e.value:u.next()})},x(_),c(_,s,"Generator"),c(_,u,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=R,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return u.type="throw",u.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function p(e,t,r,n,i,o,u){try{var a=e[o](u),s=a.value}catch(e){r(e);return}a.done?t(s):Promise.resolve(s).then(n,i)}function v(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function u(e){p(o,n,i,u,a,"next",e)}function a(e){p(o,n,i,u,a,"throw",e)}u(void 0)})}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.ABTest=function(){var e,t,r,n,o,h,p,b,m;function _(e){var t,r,n,o;if(!i._(this,_))throw TypeError("Cannot call a class as a function");if(g(this,"_initConfig",void 0),g(this,"_url",void 0),g(this,"_cache",void 0),!e.country)throw Error("需要配置country参数, 如SG, ID");if(!e.bizName)throw Error("需要提供当前接入的业务方, 如ci.abtest-trafficservice");this._initConfig=e,this._debug("AB Test init Params:"),this._debug(e),a.env2AbEnv.enableStaging(e.enableStaging),e.devMode&&null!=(t=globalThis.location)&&null!=(r=t.host)&&null!=(n=r.includes)&&n.call(r,"localhost:")?this._url=(0,c.getDevModeTrafficApi)(e.env):e.isWsa?this._url=(0,c.getWsaTrafficApi)():this._url=(0,c.getTrafficApi)(e.env),this._debug("Traffic Path:"),this._debug(this._url),this._cache=new u.ABCache(e),(null!=(o=e.isInitFetch)?o:a.defaultConfig.isInitFetch)&&this.getExperiments()}return b=[{key:"getExperiments",value:(e=v(d().mark(function e(t){var r,n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getExperiments"),e.next=3,this._fetchTrafficResult(t);case 3:return n=e.sent,e.abrupt("return",null!=(r=null==n?void 0:n.experiments)?r:[]);case 5:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"getExperiment",value:(t=v(d().mark(function e(t,r){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getExperiment"),e.next=3,this.getExperiments(r);case 3:return n=e.sent.find(function(e){return e.exp_name===t}),this._debug(n),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(e,r){return t.apply(this,arguments)})},{key:"getFeatures",value:(r=v(d().mark(function e(t){var r,n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getFeatures"),e.next=3,this._fetchTrafficResult(t);case 3:return n=e.sent,e.abrupt("return",null!=(r=null==n?void 0:n.feature_map)?r:[]);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getFeatureByKey",value:(n=v(d().mark(function e(t,r){var n;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._debug("getFeatureByKey"),e.next=3,this.getFeatures(r);case 3:return n=e.sent.find(function(e){return e.feature_key===t}),this._debug(n),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"_fetchTrafficResult",value:(o=v(d().mark(function e(t){var r,n,i,o,u,a,s,c;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._debug("内部请求分流结果"),this._cache.setMergedConfig(t),!(!(o=null==(r=this._cache)?void 0:r.getMergedConfig()).sceneKeys||0===o.sceneKeys.filter(function(e){return e}).length)){e.next=6;break}return this._debug("Scene Key 为空, 没有拉取实验"),e.abrupt("return");case 6:if(u=this._cache.getTraffic(),this._debug("获取分流缓存结果"),this._debug(u),!(null!=u&&u.resp)){e.next=12;break}return null!=u&&u.needRefresh&&this.fetch(o.sceneKeys,o.country,null!=(s=o.filters)?s:[],void 0,t),e.abrupt("return",null!=(a=null==u?void 0:u.resp)?a:[]);case 12:return e.next=14,this.fetch(o.sceneKeys,o.country,null!=(n=o.filters)?n:[],void 0,t);case 14:return c=e.sent,e.abrupt("return",null==c||null==(i=c.data)?void 0:i[0]);case 16:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"_getExpReq",value:function(e){return e||(e=this._cache.getMergedConfig()),{meta:{country:e.country,customid:e.customid,userid_str:e.userid,shopid_str:e.shopid,device_fingerprint:e.device_fingerprint},filter_data:e.filters,biz_name:e.bizName,scene_keys:e.sceneKeys}}},{key:"fetchInc",value:(h=v(d().mark(function e(t,r,n,i,o){var u;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetch(Array.from(new Set([].concat(f(null!=(u=this._initConfig.sceneKeys)?u:[]),f(t)))),r,n,i,o));case 1:case"end":return e.stop()}},e,this)})),function(e,t,r,n,i){return h.apply(this,arguments)})},{key:"fetch",value:(p=v(d().mark(function e(t,r,n,i,o){var u,c,l,f,h,p,v,y,g,b,m,_,x,w,S;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h=null!=o?o:{},t&&(h.sceneKeys=t),r&&(h.country=r),n&&(h.filters=n),this._debug("newOptions"),this._debug(h),this._cache.setMergedConfig(h),p=this._getExpReq(),this._debug("Fetch Exp Req Body"),this._debug(p),!(i&&"function"==typeof i)){e.next=18;break}return e.next=13,i(this._url,p);case 13:if(!(null!=(v=f=e.sent)&&v.error||null!=(y=f)&&y.error_msg)){e.next=16;break}throw Error("error: ".concat(null==(g=f)?void 0:g.error,", error msg: ").concat(null==(b=f)?void 0:b.error_msg));case 16:e.next=29;break;case 18:return e.next=20,(0,s.default)(this._url,{method:"POST",headers:a.reqHeaders,body:JSON.stringify(p),credentials:"include"});case 20:if(null!=(m=f=e.sent)&&m.ok){e.next=23;break}throw Error("网络异常, Status: ".concat(f.status,":").concat(f.statusText,", Text: ").concat(f.text));case 23:return e.next=25,f.json();case 25:if(!(null!=(_=f=e.sent)&&_.error||null!=(x=f)&&x.error_msg)){e.next=28;break}throw Error("error: ".concat(null==(w=f)?void 0:w.error,", error msg: ").concat(null==(S=f)?void 0:S.error_msg));case 28:f&&f.data&&0!==f.data.length||this._debug("对应的场景没有web实验, 您可以去站点上创建并开启实验");case 29:return this._debug("请求成功"),this._debug("分流信息: "),this._debug(null==(u=f)?void 0:u.data[0]),this._cache.setTraffic(null==(c=f)||null==(l=c.data)?void 0:l[0]),this._debug("Resp Body"),this._debug(f),e.abrupt("return",f);case 36:case"end":return e.stop()}},e,this)})),function(e,t,r,n,i){return p.apply(this,arguments)})},{key:"_debug",value:function(e){this._initConfig.debug&&(0,l.debug)(e)}},{key:"getVersion",value:function(){return this._cache.getVersion()}},{key:"getGroupIdByPointId",value:function(e){return this._cache.getGroupIdByPointId(e)}},{key:"getCache",value:function(){return this._cache.getCache()}}],m=[{key:"init",value:function(e){e.filters||(e.filters=[]);var t=new _(e);return globalThis[a.windowInjectKey]=t,t}}],b&&y(_.prototype,b),m&&y(_,m),Object.defineProperty(_,"prototype",{writable:!1}),_}()},7392:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=((n=r(3479))&&n.__esModule?n:{default:n}).default},8155:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},8236:(e,t,r)=>{var n,i,o,u,a;n=r(3627),i=r(8155).utf8,o=r(9677),u=r(8155).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?u.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),s=8*e.length,c=0x67452301,l=-0x10325477,f=-0x67452302,h=0x10325476,d=0;d<r.length;d++)r[d]=(r[d]<<8|r[d]>>>24)&0xff00ff|(r[d]<<24|r[d]>>>8)&0xff00ff00;r[s>>>5]|=128<<s%32,r[(s+64>>>9<<4)+14]=s;for(var p=a._ff,v=a._gg,y=a._hh,g=a._ii,d=0;d<r.length;d+=16){var b=c,m=l,_=f,x=h;c=p(c,l,f,h,r[d+0],7,-0x28955b88),h=p(h,c,l,f,r[d+1],12,-0x173848aa),f=p(f,h,c,l,r[d+2],17,0x242070db),l=p(l,f,h,c,r[d+3],22,-0x3e423112),c=p(c,l,f,h,r[d+4],7,-0xa83f051),h=p(h,c,l,f,r[d+5],12,0x4787c62a),f=p(f,h,c,l,r[d+6],17,-0x57cfb9ed),l=p(l,f,h,c,r[d+7],22,-0x2b96aff),c=p(c,l,f,h,r[d+8],7,0x698098d8),h=p(h,c,l,f,r[d+9],12,-0x74bb0851),f=p(f,h,c,l,r[d+10],17,-42063),l=p(l,f,h,c,r[d+11],22,-0x76a32842),c=p(c,l,f,h,r[d+12],7,0x6b901122),h=p(h,c,l,f,r[d+13],12,-0x2678e6d),f=p(f,h,c,l,r[d+14],17,-0x5986bc72),l=p(l,f,h,c,r[d+15],22,0x49b40821),c=v(c,l,f,h,r[d+1],5,-0x9e1da9e),h=v(h,c,l,f,r[d+6],9,-0x3fbf4cc0),f=v(f,h,c,l,r[d+11],14,0x265e5a51),l=v(l,f,h,c,r[d+0],20,-0x16493856),c=v(c,l,f,h,r[d+5],5,-0x29d0efa3),h=v(h,c,l,f,r[d+10],9,0x2441453),f=v(f,h,c,l,r[d+15],14,-0x275e197f),l=v(l,f,h,c,r[d+4],20,-0x182c0438),c=v(c,l,f,h,r[d+9],5,0x21e1cde6),h=v(h,c,l,f,r[d+14],9,-0x3cc8f82a),f=v(f,h,c,l,r[d+3],14,-0xb2af279),l=v(l,f,h,c,r[d+8],20,0x455a14ed),c=v(c,l,f,h,r[d+13],5,-0x561c16fb),h=v(h,c,l,f,r[d+2],9,-0x3105c08),f=v(f,h,c,l,r[d+7],14,0x676f02d9),l=v(l,f,h,c,r[d+12],20,-0x72d5b376),c=y(c,l,f,h,r[d+5],4,-378558),h=y(h,c,l,f,r[d+8],11,-0x788e097f),f=y(f,h,c,l,r[d+11],16,0x6d9d6122),l=y(l,f,h,c,r[d+14],23,-0x21ac7f4),c=y(c,l,f,h,r[d+1],4,-0x5b4115bc),h=y(h,c,l,f,r[d+4],11,0x4bdecfa9),f=y(f,h,c,l,r[d+7],16,-0x944b4a0),l=y(l,f,h,c,r[d+10],23,-0x41404390),c=y(c,l,f,h,r[d+13],4,0x289b7ec6),h=y(h,c,l,f,r[d+0],11,-0x155ed806),f=y(f,h,c,l,r[d+3],16,-0x2b10cf7b),l=y(l,f,h,c,r[d+6],23,0x4881d05),c=y(c,l,f,h,r[d+9],4,-0x262b2fc7),h=y(h,c,l,f,r[d+12],11,-0x1924661b),f=y(f,h,c,l,r[d+15],16,0x1fa27cf8),l=y(l,f,h,c,r[d+2],23,-0x3b53a99b),c=g(c,l,f,h,r[d+0],6,-0xbd6ddbc),h=g(h,c,l,f,r[d+7],10,0x432aff97),f=g(f,h,c,l,r[d+14],15,-0x546bdc59),l=g(l,f,h,c,r[d+5],21,-0x36c5fc7),c=g(c,l,f,h,r[d+12],6,0x655b59c3),h=g(h,c,l,f,r[d+3],10,-0x70f3336e),f=g(f,h,c,l,r[d+10],15,-1051523),l=g(l,f,h,c,r[d+1],21,-0x7a7ba22f),c=g(c,l,f,h,r[d+8],6,0x6fa87e4f),h=g(h,c,l,f,r[d+15],10,-0x1d31920),f=g(f,h,c,l,r[d+6],15,-0x5cfebcec),l=g(l,f,h,c,r[d+13],21,0x4e0811a1),c=g(c,l,f,h,r[d+4],6,-0x8ac817e),h=g(h,c,l,f,r[d+11],10,-0x42c50dcb),f=g(f,h,c,l,r[d+2],15,0x2ad7d2bb),l=g(l,f,h,c,r[d+9],21,-0x14792c6f),c=c+b>>>0,l=l+m>>>0,f=f+_>>>0,h=h+x>>>0}return n.endian([c,l,f,h])})._ff=function(e,t,r,n,i,o,u){var a=e+(t&r|~t&n)+(i>>>0)+u;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,r,n,i,o,u){var a=e+(t&n|r&~n)+(i>>>0)+u;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,r,n,i,o,u){var a=e+(t^r^n)+(i>>>0)+u;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,r,n,i,o,u){var a=e+(r^(t|~n))+(i>>>0)+u;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?u.bytesToString(r):n.bytesToHex(r)}},8887:(e,t,r)=>{"use strict";var n=r(1594),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,u=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return a(function(){i.value=r,i.getSnapshot=t,c(i)&&l({inst:i})},[e,r,t]),u(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),s(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},9603:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDevModeTrafficApi=function(e){return"//abtest-api.dataplt.".concat(null!=e?e:"test",".shopee.io/").concat(n.trafficAPI)},t.getTrafficApi=function(e){var t,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(null==globalThis||null==(t=globalThis.location)?void 0:t.hostname)||"";e?(r=n.env2UrlMap[e],(0,i.isValidKey)(r,n.env2AbEnv)&&(r=n.env2AbEnv[r])):r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null==globalThis||null==(t=globalThis.location)?void 0:t.hostname;if(!e||null!=e&&e.includes("localhost"))return"test";var t,r,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(n.noneLiveEnv);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e.lastIndexOf("".concat(o,"."));if(0===a||"."===e[a-1]){if("staging"===o||"test-stable"===o)return n.env2AbEnv[o];return o}}}catch(e){i.e(e)}finally{i.f()}return n.liveEnvUrl}(a);var s="";r!==n.liveEnvUrl&&(s=".");for(var c="",l=0,f=Object.entries(n.countryPostfixMap);l<f.length;l++){var h=o(f[l],2),d=h[0],p=h[1];if(a.includes(d)){c=o(a.split(p),2)[1];break}}return"io"!==c&&c||(c="sg"),"//".concat(r).concat(s,"shopee.").concat(c,"/").concat(n.trafficAPI)},t.getWsaTrafficApi=function(){return"/".concat(n.trafficAPI)};var n=r(4707),i=r(4625);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],u=!0,a=!1;try{for(i=i.call(e);!(u=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);u=!0);}catch(e){a=!0,n=e}finally{try{u||null==i.return||i.return()}finally{if(a)throw n}}return o}}(e,t)||u(e,t)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},9677:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){var r;return null!=e&&(t(e)||"function"==typeof(r=e).readFloatLE&&"function"==typeof r.slice&&t(r.slice(0,0))||!!e._isBuffer)}}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/mobilemall-voucher/_/294.37976c387f47f630e8c0.2017.js.map