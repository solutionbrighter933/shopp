"use strict";(globalThis.webpackChunk_shopee_voucher_rw=globalThis.webpackChunk_shopee_voucher_rw||[]).push([[502],{1966:(e,t,r)=>{r.d(t,{l:()=>l,p:()=>s});var a,o,c,i,_=((a=_||{})[a.Captcha=1]="Captcha",a[a.ForceLogin=2]="ForceLogin",a),n=((o=n||{})[o.Block=2]="Block",o[o.Challenge=3]="Challenge",o),s=((c={})[c.UNKNOWN=0]="UNKNOWN",c[c.VOUCHER_OPC_DRAWER=1]="VOUCHER_OPC_DRAWER",c[c.VOUCHER_CART_DRAWER=2]="VOUCHER_CART_DRAWER",c),l=((i={})[i.NORMAL=0]="NORMAL",i[i.MALL=1]="MALL",i[i.PREFERRED=2]="PREFERRED",i[i.PREFERRED_PLUS=3]="PREFERRED_PLUS",i)},2378:(e,t,r)=>{r.d(t,{A:()=>a});let a=function(e,t,r){if(Array.isArray(t)&&t.length)for(let a=0,o=t.length;a<o;a++){let o=t[a];if(!e||!e.hasOwnProperty(o))return r;e=e[o]}return e}},2530:(e,t,r)=>{r.d(t,{T:()=>g});var a={};r.r(a),r.d(a,{clear:()=>d,getItem:()=>n,isSupported:()=>_,removeItem:()=>l,setItem:()=>s});var o=r(1594),c=r(4122);function i(e,t){let r=t.isSupported.bind(this,e),a=t.getItem.bind(this,e),o=t.setItem.bind(this,e),c=t.removeItem.bind(this,e);return{read:a,get:a,getItem:a,write:o,set:o,setItem:o,remove:c,removeItem:c,clear:t.clear.bind(this,e),isSupported:r}}let _=e=>{let t="SPC_"+e+"_TEST_KEY";try{if(!(self&&self[e]))return!1;return self[e].setItem(t,t),self[e].removeItem(t),!0}catch{return!1}},n=(e,t)=>{try{if(window&&window[e]){let r=window[e].getItem(t);return r?JSON.parse(r):void 0}}catch{return}},s=(e,t,r)=>{try{if(window&&window[e]){let a=JSON.stringify(r);window[e].setItem(t,a)}}catch{}},l=(e,t)=>{try{window&&window[e]&&window[e].removeItem(t)}catch{}},d=(e,t)=>{let r={};t&&t.forEach(t=>{r[t]=n(e,t)});try{window&&window[e]&&window[e].clear()}catch{}t&&t.forEach(t=>{r[t]&&s(e,t,r[t])})},u=i("localStorage",a);i("sessionStorage",a);let f="@shopee/account-basic-info",{get:p,post:v}=r(574).FetchUtils,h=Object.freeze({username:"",nickname:"",default_address:void 0,holiday_mode_on:!1,holiday_mode_mtime:null,userid:0,shopid:0,access:{wallet_setting:void 0,wallet_provider:void 0},phone:"",has_password:!1,phone_verified:!1,payment_password:void 0,web_option:void 0,portrait:"",is_seller:!1,is_mall_seller:!1,email:"",email_verified:!1,not_new_user:!1,ctime:0,feed_account_info:void 0,birth_timestamp:void 0,birth_timestamp_verified:!1,adult_consent:void 0,cb_option:0,tos_accepted_time:void 0,cover:"",cookies_accepted_time:void 0,disallow_data_processing:void 0,tax_id:""});var m=r(9066);r(2914);var b=r(2378);new(r(5497)).PerformanceTrace("accountInfo",{type:"accountInfoLoad"});var w=r(2562);let g=()=>{let{actions:e,state:t}=(0,o.useContext)(c.AccountContext),r=(0,o.useMemo)(()=>{let e,r,a,o,c;return e=(0,b.A)(t,["info"]),r=(0,b.A)(e,["userid"],null),a=(0,b.A)(t,["progress"],m.Ay.INIT),o=(0,b.A)(t,["error"]),c=a===m.Ay.INIT||a===m.Ay.REQ||a===m.Ay.ERR&&19!==o?w.u.UNKNOWN:a===m.Ay.OK&&r?w.u.LOGGED_IN:w.u.NOT_LOGGED_IN,{accountInfo:{userId:(0,b.A)(e,["userid"])||h.userid,username:(0,b.A)(e,["username"])||h.username,nickname:(0,b.A)(e,["nickname"])||h.nickname,email:(0,b.A)(e,["email"])||h.email,emailVerified:(0,b.A)(e,["email_verified"])||h.email_verified,phone:(0,b.A)(e,["phone"])||h.phone,hasPassword:(0,b.A)(e,["has_password"])||h.has_password,portrait:(0,b.A)(e,["portrait"])||h.portrait,adultConsentTimestamp:(0,b.A)(e,["adult_consent"])||h.adult_consent,birthTimestamp:(0,b.A)(e,["birth_timestamp"])||h.birth_timestamp,birthTimestampVerified:(0,b.A)(e,["birth_timestamp_verified"])||h.birth_timestamp_verified,ctime:(0,b.A)(e,["ctime"])||h.ctime,isSeller:(0,b.A)(e,["is_seller"])||h.is_seller,isMallSeller:(0,b.A)(e,["is_mall_seller"])||h.is_mall_seller,isNewUser:!(0,b.A)(e,["not_new_user"])||h.not_new_user,shopId:(0,b.A)(e,["shopid"])||h.shopid,tosAcceptedTime:(0,b.A)(e,["tos_accepted_time"])||h.tos_accepted_time,webOption:(0,b.A)(e,["web_option"])||h.web_option,paymentPassword:(0,b.A)(e,["payment_password"])||h.payment_password,cbOption:(0,b.A)(e,["cb_option"])||h.cb_option,cookiesAcceptedTime:(0,b.A)(e,["cookies_accepted_time"])||h.cookies_accepted_time,disallowDataProcessing:(0,b.A)(e,["disallow_data_processing"])||h.disallow_data_processing,taxId:(0,b.A)(e,["tax_id"])||h.tax_id},accountStatus:c,accountInfoProgress:a,accountInfoError:o}},[t]),{accountStatus:a,accountInfo:{username:i,portrait:_}}=r;return(0,o.useEffect)(()=>{if(a===w.u.LOGGED_IN)u.setItem(f,{username:i,portrait:_});else a===w.u.NOT_LOGGED_IN&&u.removeItem(f)},[a,i,_]),(0,o.useMemo)(()=>({...r,...e}),[r,e])}},2562:(e,t,r)=>{r.d(t,{u:()=>o});var a,o=((a={})[a.UNKNOWN=0]="UNKNOWN",a[a.LOGGED_IN=1]="LOGGED_IN",a[a.NOT_LOGGED_IN=2]="NOT_LOGGED_IN",a)},2577:(e,t,r)=>{r.d(t,{pq:()=>$.p,Q8:()=>eI,p8:()=>a,Nn:()=>H,XW:()=>eb,Wg:()=>em,tk:()=>eh,Hv:()=>K,tA:()=>eg,uJ:()=>ey,OL:()=>ew,QG:()=>eO,CN:()=>eE,lm:()=>eA,v4:()=>eR});var a={};r.r(a),r.d(a,{bS:()=>m,WH:()=>v,r8:()=>h,sy:()=>b,ZR:()=>P,bV:()=>S,Qi:()=>G,c0:()=>k,EM:()=>_,$L:()=>T,li:()=>C,uQ:()=>y,pk:()=>g,q5:()=>i,EP:()=>d,Bw:()=>u,YD:()=>f,FE:()=>p,Wc:()=>w,vF:()=>D,jq:()=>L,tG:()=>o,GV:()=>c,fW:()=>l,DO:()=>n,md:()=>E,eL:()=>R,Vk:()=>A,hR:()=>s,xl:()=>I,ey:()=>O,KI:()=>N}),r(7660);let o="/api/v2/voucher_wallet/get_vouchers",c="/api/v2/voucher_wallet/spl/get_vouchers",i="/api/v2/voucher_wallet/get_recommend_vouchers",_="/api/v2/voucher_wallet/get_partner_vouchers",n="/api/v2/voucher_wallet/mark_partner_voucher",s="/api/v2/voucher_wallet/save_voucher",l="/api/v2/voucher_wallet/get_free_shipping_voucher_by_promotion_id",d="/api/v2/voucher_wallet/get_shop_vouchers_by_shopid",u="/api/v2/voucher_wallet/spl/get_shop_vouchers_by_shopid",f="/api/v2/voucher_wallet/get_shop_voucher_list_by_shopid",p="/api/v2/voucher_wallet/spl/get_shop_voucher_list_by_shopid",v="/api/v2/voucher_wallet/batch_get_voucher_by_promotion_id",h="/api/v2/voucher_wallet/spl/batch_get_voucher_by_promotion_id",m="/api/v2/voucher_wallet/batch_get_vouchers_by_promotion_ids",b="/api/v4/voucher_wallet/batch_get_vouchers_by_promotion_ids",w="/api/v2/voucher_wallet/get_user_voucher_by_time",g="/api/v2/voucher_wallet/get_recommend_shop_vouchers",y="/api/v2/voucher_wallet/get_recommend_platform_vouchers",A="/api/v2/voucher_wallet/save_shop_voucher_by_voucher_code",E="/api/v2/voucher_wallet/save_platform_voucher_by_voucher_code",R="/api/v2/voucher_wallet/save_shop_voucher",O="/api/v2/voucher_wallet/validate_shop_voucher_by_voucher_code",I="/api/v2/voucher_wallet/validate_platform_voucher_by_voucher_code",N="/api/v4/voucher_wallet/validate_voucher_drawer",C="/api/v2/voucher_wallet/spl/get_recommend_vouchers",D="/api/v2/voucher_wallet/get_user_voucher_list",L="/api/v4/voucher_wallet/get_user_voucher_list_meta",S="/api/v4/mpi/get_microsite_recommended_vouchers",T="/api/v4/voucher/get_recommended_vouchers_by_model",k="/api/v4/mpi/rcmd/get_recommended_vouchers_by_model",G="/api/v4/mpi/rcmd/get_recommended_opv",P="/api/v4/microsite/get_vouchers";var F=r(574);function U(e){return!!(e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e))}function W(e,t){return t&&!0===t.clone&&U(e)?V(Array.isArray(e)?[]:{},e,t):e}function x(e,t,r){let a=e.slice();return t.forEach((t,o)=>{void 0===a[o]?a[o]=W(t,r):U(t)?a[o]=V(e[o],t,r):-1===e.indexOf(t)&&a.push(W(t,r))}),a}function V(e,t,r){let a;if(!e)return t;if(!t)return e;let o=Array.isArray(t),c=Array.isArray(e),i=r||{arrayMerge:x};if(o!==c)return W(t,r);if(o)return(i.arrayMerge||x)(e,t,r);return a={},U(e)&&Object.keys(e).forEach(t=>{a[t]=W(e[t],r)}),Object.keys(t).forEach(o=>{U(t[o])&&e[o]?a[o]=V(e[o],t[o],r):a[o]=W(t[o],r)}),a}V.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw Error("first argument should be an array with at least two elements");return e.reduce((e,r)=>V(e,r,t))};let j=V;async function M(e){return 0x562056f===e.error?new Promise(()=>{}):e.error?{error:e.error,error_msg:e.error_msg,data:e.data,response:void 0}:{response:{...e,status:e.__raw.status,headers:e.__raw.headers}}}let Q=()=>{let e="Voucher.RW";return{apiProtection:{signatureLevel:2},...e?{antiCrawler:{appKey:e,shouldReplaceHistory:!1}}:{}}};async function H(e,t){let r=j(Q()??{},t?.antiFraudConfig??{}),a=await F.FetchUtils.get(e,{...t,antiFraudConfig:r});return await M(a)}async function K(e,t,r){let a=j(Q()??{},r?.antiFraudConfig??{}),o=await F.FetchUtils.post(e,t||{},{...r,antiFraudConfig:a});return await M(o)}var $=r(1966);let{uQ:q,Vk:B,md:Y,eL:z,hR:J,ey:Z,xl:X,KI:ee,pk:et,li:er,EP:ea,vF:eo,jq:ec,Bw:ei,YD:e_,FE:en,bV:es,sy:el,$L:ed,c0:eu,Qi:ef,bS:ep,ZR:ev}=a;function eh(e,t,r,a,o){return K("/api/v2/voucher_wallet/get_voucher_detail",{promotionid:e,voucher_code:t,signature:r,...a},{...o?{headers:o}:{},antiFraudConfig:{antiCrawler:{shouldReplaceHistory:!0}}})}function em({orders:e,shopid:t,shop_ids:r,group_buy_info:a,slash_price_info:o,spm_channel_id:c,legacy_spm_channel_id:i,check_voucher_payment_criteria:_,selected_payment_channel_data:n,card_bin_number:s,sorting_flag:l,priority_promotion_ids:d,has_redeem_coins:u,platform_vouchers:f,move_up_addon_voucher:p,caller_source:v,cursor:h},m){return K(et,{orders:e,shopid:t,shop_ids:r,group_buy_info:a,slash_price_info:o,spm_channel_id:c,legacy_spm_channel_id:i,check_voucher_payment_criteria:_,selected_payment_channel_data:n,card_bin_number:s,sorting_flag:l,priority_promotion_ids:d,has_redeem_coins:u,platform_vouchers:f,move_up_addon_voucher:p,caller_source:v,cursor:h},m?{headers:m}:{})}function eb({orders:e,group_buy_info:t,slash_price_info:r,voucher_market_type:a,dp_items:o,check_voucher_payment_criteria:c,selected_payment_channel_data:i,spm_channel_id:_,legacy_spm_channel_id:n,card_bin_number:s,need_wallet_active_info:l,sorting_flag:d,priority_promotion_ids:u,voucher_payment_type:f,has_redeem_coins:p,higher_bpsf_logistics_channel:v,payment_manual_change:h,caller_source:m},b){return K(q,{orders:e,group_buy_info:t,slash_price_info:r,voucher_market_type:a,dp_items:o,check_voucher_payment_criteria:c,selected_payment_channel_data:i,spm_channel_id:_,legacy_spm_channel_id:n,card_bin_number:s,need_wallet_active_info:l,sorting_flag:d,priority_promotion_ids:u,...null!=f?{voucher_payment_type:f}:{},has_redeem_coins:p,higher_bpsf_logistics_channel:v,payment_manual_change:h,caller_source:m},b?{headers:b}:{})}function ew({voucher_code:e,shop_ids:t,shop_orders:r},a){return K(B,{voucher_code:e,shop_ids:t,shop_orders:r},{...a?{headers:a}:{}})}function eg({voucher_code:e},t){return K(Y,{voucher_code:e},{...t?{headers:t}:{}})}function ey({promotionid:e,voucher_code:t,shopid:r},a){return K(z,{promotionid:e,voucher_code:t,shopid:r},{...a?{headers:a}:{}})}function eA(e,t){return K(Z,e,{...t?{headers:t}:{}})}function eE(e,t){return K(X,e,{...t?{headers:t}:{}})}function eR(e,t){return K(ee,e,t?{headers:t}:{})}function eO({voucher_code:e,voucher_promotionid:t,promotion_signature:r,need_user_voucher_status:a,source:o,sz_dfp:c,need_sz_dfp:i=!1},_){return K(J,{voucher_code:e,voucher_promotionid:t,signature:r,...c&&{security_device_fingerprint:c},...a?{need_user_voucher_status:a}:{},...null==o?{}:{signature_source:o}},{...i?{antiFraudConfig:{deviceFingerPrint:{dataFormatter:e=>({security_device_fingerprint:e})}}}:{},..._?{headers:_}:{}})}function eI(e,t,r){return K(ep,{promotion_info:e,need_user_voucher_status:!!t},r?{headers:r}:{})}},2914:(e,t,r)=>{r.d(t,{S:()=>a});let a=!!("undefined"!=typeof window&&window.document&&window.document.createElement)},3060:(e,t,r)=>{r.d(t,{g:()=>s});let a=/\/+/g,o=/[\s<>#%"{}|\\^[\]`;/?:@&=+$,]/g,c=/\0/g,i=/-+/g;function _(e){return e.trim().replace(o,"-").replace(c,"").replace(i,"-")}var n=r(1152);function s(e,t){let{host:r,pathname:o,hash:c,search:i,href:s}=(0,n.R)(e),l=!!r&&(r===t||r.replace("mall.","")===t||r.replace("lite.","")===t),d=o.replace(a,"/").split("/").map(_).join("/");return{url:l?`${d}${i}${c}`:s,sameDomain:l}}},3276:(e,t,r)=>{r.d(t,{A:()=>a});let a=function(e,t){return(r=t,a)=>a&&e.hasOwnProperty(a.type)?e[a.type](r,a):r}},4514:(e,t,r)=>{r.d(t,{EDf:()=>m,GYv:()=>f,HiQ:()=>_,Hov:()=>u,Ipv:()=>l,Kpn:()=>d,MoL:()=>i,Pxd:()=>c,UHC:()=>n,VM8:()=>s,VaE:()=>w,WQe:()=>a,c9T:()=>o,nxe:()=>h,vOD:()=>p,wG4:()=>b,x73:()=>g,ype:()=>v});let a="4e7517143480ade87916f4f8983ab85c5357ebf36f3b9a000cebfc15415da811",o="4a87145be31ce93d0d2002604b0818503ebdf7ce31e037e1b5aa13bde4348be8",c="ae81efe6e5a11084e9ca6691298706f54f1155df057bddf28eff57d4c316276c",i="06bf4621b8c4a48fd700fb009e823c9fc8304a34bb0aacc15b19ced1d0657bd8",_="2be92b542a827f3fd9b5fb785602e862bc1aaa63977518df5d45dd393e91f046",n="f5041c85fe43171e18836abfec9cb029302b848cf9716f4caf5572e04f503ebd",s="ca04bd98d36350ecc960136c219d60fff82405b3fb796fbc88e3040cea75846e",l="e0095d4ddf8b28086c0a2d6b2cba1af01a7c8860c0d3ccb5be8197a8f22991ec",d="b410284d5c4392a13d39671dae9814903d79a764488cc7ec4a8f6fef4958f2e0",u="3e0388a5baeb24421dd941c696efc512656230dfa9cefba0f155107f78da439b",f="c623bac0c6dabe51bbd44428f297e78208b61e1b213895a354174426fb4fb003",p="ff1d0987c48e9429e46f479f2e418cfcc5f6ffd07cc17e23e8c5a1522e747a39",v="03caabe5caf6f2790ecae42c54a64ff07058339f0bea5e536026f785fabf17f1",h="d2da29cf8366fe6208831c9661aa448db5773ac7fd0b549fe8a92927e1ef8f95",m="7760fc55006d91d43fb88bacfbfdff46ec057281283ec96ae01db8d49be8cbf3",b="4ff9b3e24cd3c07317724e53b9ccf84eb99cd3cf8ebd601cc5c5107925c314ed",w="488e0e8b9c76a529c6fcb4cc7540f1a12f1b830fc11e35935362d836dea3438b",g="dab29607ace2228a98ac82afc26be0f4b10ee137d9d5ea25da4f4f5ed7825928"},7548:(e,t,r)=>{r.d(t,{b:()=>a});function a(e){return{NAME:`${e}`,REQUESTED:`${e}_REQUESTED`,SUCCESS:`${e}_SUCCESS`,FAILED:`${e}_FAILED`}}},9066:(e,t,r)=>{r.d(t,{Ay:()=>o,Gd:()=>a});let a=Object.freeze({INIT:0,REQ:1,OK:2,ERR:3});Object.freeze({apiProgress:a.INIT,error:null,error_msg:null});let o=a}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/mobilemall-voucher/_/502.46fa6485f0782a695cc2.2023.js.map