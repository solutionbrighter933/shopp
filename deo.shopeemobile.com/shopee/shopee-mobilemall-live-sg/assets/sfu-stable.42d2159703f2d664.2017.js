"use strict";(("undefined"!=typeof self?self:this).webpackChunkshopee_rw=("undefined"!=typeof self?self:this).webpackChunkshopee_rw||[]).push([[7327],{68078:(e,t,i)=>{i.d(t,{DV:()=>eG});var r,n,a,o,s,c,l,u,p,d,h,v,f,_,m,g,y,w,b,R,C,H=i(68485),k=i(74053),P=i(34920),S=i(11566),E=i(76409),x=i(86028),A=i(61105),O=i(65129),T=i(15234),F=i(38199),I=i(49159),U="device_sz_fingerprint",D="sz-token",L="af-ac-enc-sz-token",B="x-sz-sdk-version",z="d-nonptcha-sync",N="/verify/traffic",M="/verify/traffic/error",q="/buyer/login",j={onInit:function(){},onComplete:function(){},onFail:function(){},onTimeout:function(){}},W=((a={})[(n=eE)(0)]=j,a[n(1)]=j,a.hookFUFetch=j,a.hookFUXhr=j,a),V={test:"90a081b48a9c87345189bda87a989d23",uat:"5a733eaa4e1df48aa36fd9316f093107",staging:"d9dd212362d63e8ddb085bb5bce5259f",stable:"dc6fe70845cb784460ead6c7fd76bb91",live:"f9ffc83459897a13dd14c537e84b1753"},Y=((r={}).env={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},r.cid={SG:"sg",TW:"xiapi",MY:"my",PH:"ph",TH:"th",ID:"id",VN:"vn",BR:"br",MX:"mx",CO:"co",CL:"cl",PL:"pl",AR:"xiapi",ES:"xiapi",FR:"xiapi",IN:"xiapi"},r),J=["/api/v2/item/get","/api/v4/item/get","/api/v4/pdp/get","/api/v4/pdp/get_pc","/api/v4/pdp/get_rw"],K=["/api/v4/search/search_facet","/api/v4/search/search_items","/api/v4/search/search_page_common","/api/v4/search/get_ymal_items","/api/v4/search/search_filter_config","/api/v4/search/search_mart_items","/api/v4/search/search_user"],X=["/api/v4/shop/get_shop_detail","/api/v4/shop/get_categories","/api/v4/shop/get_shop_tab","/api/v4/shop/rcmd_items","/api/v4/shop/get_shop_base","/api/v4/shop/get_shop_seo","/api/v4/shop/get_products_tab_data","/api/v4/shop/get_membership_data","/api/v4/shop/get_campaign_preview","/api/v4/shop/get_top_products","/api/v4/shop/get_shop_seller_show","/api/v4/shop/get_shop_seller_info","/api/v4/shop/is_show","/api/v4/shop/get_shop_by_user","/api/v4/shop/get_follow_prize_campaign","/api/v4/shop/get_shop_base_preview","/api/v4/shop/search_items","/api/v4/shop/get_shop_core_info","/api/v4/shop/get_popup_data","/api/v4/shop/get_campaign_tab_data","/api/v4/shop/block_user","/api/v4/shop/get_scp_list","/api/v4/shop/get_shop_tab_preview","/api/v4/shop/unfollow","/api/v4/shop/follow"],G=Object.freeze({REQUEST_TIMEOUT:-99,FE_SERVER_ERROR:-999,SERVER_ERROR:10005,t:0x562056f});function Z(){return["Cd9ABgeOy5oJCkc9b3cG","Wm8SpgeOy5oJCkc9b3cG","BvaAp3BOKRgPBmOrKEg5WmoJl5oLBm8ICkAOpnoJKE8JbmgDpl","BvaAp3BOKRgPBmOrKEg5WmoJcE8Jy3otW3BAWN","BvaAp3BOKRgPBmOrKEg5WmoJoEoJCdpAy3g2Cd8P","K3SZBdQRo3gABnpZKRcEKnOPCkl","yd92CbpJykoRl38PpEOD","p3o2o3oVcmo3CdeOcEOPp3oJKvaAWDl"]}(s=o||(o={}))[s.Captcha=1]="Captcha",s[s.ForceLogin=2]="ForceLogin",s[s.Redirect=5]="Redirect",s[s.FORCE_DOWNLOAD_APP=8]="FORCE_DOWNLOAD_APP",s[s.FORCE_BIND_PHONE=9]="FORCE_BIND_PHONE",s[s.VERIFY_PHONE=10]="VERIFY_PHONE",(l=c||(c={}))[l.Block=2]="Block",l[l.Challenge=3]="Challenge",(p=u||(u={}))[p.Level1=1]="Level1",p[p.Level2=2]="Level2",p[p.Level3=3]="Level3",(h=d||(d={})).External="1",h.Internal="2",(f=v||(v={})).ShopeeInternal="1",f.ShopeeApp="2",(m=_||(_={}))[m.AntiCrawler=0]="AntiCrawler",m[m.Dfp=1]="Dfp",(y=g||(g={})).Request="request",y.Success="success",y.Timeout="timeout",y.Failed="failed",(b=w||(w={}))[b.PC=0]="PC",b[b.RW=1]="RW",b[b.SHOPEELIVE=2]="SHOPEELIVE",b[b.BANK=3]="BANK",(C=R||(R={})).FORCEAPP="1",C.BINDPHONE="2",C.VERIFYPHONE="3";var $,Q,ee=!("undefined"==typeof window||!window.document||!window.document.createElement),et=/beeshop|shopee/i,ei=/shopee.*app_type=2(\s|$)/i,er=/shopee-food-driver/i,en=/shopee-express-driver/i,ea=/shopeepay|airpay/i,eo=/mitra/i,es=/seatalk/i,ec=/shopee-toc-acc-sdk/i,el=/now/i,eu=/spinjam.*app_type=20(\s|$)/i;(Q=$||($={}))[Q.Shopee=1]="Shopee",Q[Q.ShopeeFoodDriver=2]="ShopeeFoodDriver",Q[Q.ShopeePartner=3]="ShopeePartner",Q[Q.ShopeeExpressDriver=4]="ShopeeExpressDriver",Q[Q.ShopeePay=5]="ShopeePay",Q[Q.Mitra=6]="Mitra",Q[Q.SeaTalk=7]="SeaTalk",Q[Q.ShopeeAccountSdk=8]="ShopeeAccountSdk",Q[Q.ShopeeFoodBuyer=11]="ShopeeFoodBuyer",Q[Q.SPinjam=12]="SPinjam";var ep=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){if(ee)return window.navigator.userAgent}();if(void 0!==e)return er.test(e)?$.ShopeeFoodDriver:ei.test(e)?$.ShopeePartner:en.test(e)?$.ShopeeExpressDriver:eo.test(e)?$.Mitra:es.test(e)?$.SeaTalk:ec.test(e)?$.ShopeeAccountSdk:el.test(e)?$.ShopeeFoodBuyer:ea.test(e)?$.ShopeePay:et.test(e)?$.Shopee:eu.test(e)?$.SPinjam:void 0},ed=function(){return void 0!==ep()};function eh(e,t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";var i=Object.keys(e).filter(function(t){return null!=e[t]});return i.length?(t?"":"?")+i.sort().map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"):""}(t);if(!i.substring(1))return e;var r=(0,O._)(e.split("#"),2),n=r[0],a=r[1];return n=n.indexOf("?")>-1?n+"&"+i.substring(1):""+n+i,a?n+"#"+a:n}var ev=[/^(seller\.)((xiapi|sg|th|vn|id|ph|br|my|tw|mx|co|cl|in|ar|pl|fr|es)\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.cn$/,/^(banhang\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.vn$/,/^(seller\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.(co\.(id|th)|com\.(ar|br|co|mx|my)|cl|es|fr|in|ph|pl|sg|tw)$/];function ef(e){if(!e)return!1;try{var t=new URL(e).hostname;return ev.some(function(e){return e.test(t)})}catch(e){return!1}}function e_(){return self.__ENV__}function em(){return self.__LOCALE__}var eg,ey=((eg={}).malls={SG:"shopee.sg",TW:"shopee.tw",MY:"shopee.com.my",PH:"shopee.ph",TH:"shopee.co.th",ID:"shopee.co.id",VN:"shopee.vn",BR:"shopee.com.br",MX:"shopee.com.mx",CO:"shopee.com.co",CL:"shopee.cl",AR:"shopee.com.ar",FR:"shopee.fr",PL:"shopee.pl",ES:"shopee.es",IN:"shopee.in"},eg.envs={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},eg);function ew(e){var t=e.env,i=e.locale;return"https://"+ey.envs[t]+ey.malls[i]}var eb=/web_sdk_host=snack/i;function eR(e){var t=e.isRelative,i=e.host;return eh(""+(t?"":i)+e.path,e.params)}function eC(e){var t,i,r,n,a,o,s=e.history,c=e.redirectType,l=e.shouldReplaceHistory,u=e.absoluteRedirectPath,p=e.relativeRedirectPath;c!==d.External&&s?l?s.replace(p):ed()?null==(i=window)||null==(t=i.WebViewJavascriptBridge)||t.callHandler("navigate",((a={}).url=u,a.popSelf=0,a.navbar={},a)):s.push(p):l?location.replace(u):ed()?null==(n=window)||null==(r=n.WebViewJavascriptBridge)||r.callHandler("navigate",((o={}).url=u,o.popSelf=0,o.navbar={},o)):location.href=u}function eH(e){var t=e.history,i=e.next,r=e.appKey,n=e.scene,a=e.shouldReplaceHistory,o=void 0===a||a,s=e.clientId,c=e.redirectType,l=void 0===c?d.External:c,u=e.verificationPageHost,p=void 0===u?location.origin:u,h=e.antiBotTrackingId,v=e.setRedirecting;l!==d.External&&t||v&&v();var f,_,m,g=(0,x._)({is_initial:!0,app_key:r,scene:void 0===n?"crawler_item":n,client_id:s,redirect_type:l,next:i,should_replace_history:o,anti_bot_tracking_id:h},i.includes("__mobile__")||ed()?{__mobile__:1}:{});eC(((m={}).history=t,m.redirectType=l,m.shouldReplaceHistory=o,m.absoluteRedirectPath=eR(((_={isRelative:!1}).host=p,_.path=N,_.params=g,_)),m.relativeRedirectPath=eR(((f={isRelative:!0}).host=p,f.path=N,f.params=g,f)),m))}function ek(e){var t,i,r,n,a,o,s=e.history,c=e.trackingId,l=e.shouldReplaceHistory,u=e.redirectType,p=void 0===u?d.External:u,h=e.verificationPageHost,v=void 0===h?location.origin:h,f=e.homeUrl,_=e.isLoggedIn,m=e.error_type,g=(0,x._)({tracking_id:c,is_logged_in:void 0===_||_,home_url:f||location.origin},m?((r={}).type=m,r):{},m===R.BINDPHONE||m===R.VERIFYPHONE?((i={}).next=location.href,i):{},location.origin.includes("xiapibuy")?((t={}).origin=location.origin,t):{},ed()?{__mobile__:1}:{});eC(((o={}).history=s,o.redirectType=p,o.shouldReplaceHistory=void 0===l||l,o.absoluteRedirectPath=eR(((a={isRelative:!1}).host=v,a.path=M,a.params=g,a)),o.relativeRedirectPath=eR(((n={isRelative:!0}).host=v,n.path=M,n.params=g,n)),o))}function eP(e){var t,i=e.history,r=e.next,n=e.redirectType,a=void 0===n?d.External:n,o=e.shouldReplaceHistory,s=void 0===o||o,c=e.verificationPageHost,l=void 0===c?location.origin:c,u=e.isFromGoogleAdsPDP,p=e.trackingId,h=(0,A._)((0,x._)({next:r},r.includes("__mobile__")||ed()?{__mobile__:1}:{},u?((t={}).is_from_fu=(new Date).getTime(),t):{}),{fu_tracking_id:p});if(function(){if(ee){var e=window.navigator.userAgent;if(eb.test(e))return!0}return!1}())window.SHPLSBridge&&(0,H._)(function(){return(0,I.YH)(this,function(e){switch(e.label){case 0:return[4,window.SHPLSBridge.checkLogin()];case 1:if(e.sent())return[3,3];return[4,window.SHPLSBridge.login()];case 2:e.sent(),window.location.reload(),e.label=3;case 3:return[2]}})})();else if(ed())null==(f=window)||null==(v=f.WebViewJavascriptBridge)||v.callHandler("login",((m={}).redirectPath=eh("main",((_={}).apprl=r,_)),m.redirectTab=1,m),function(e){0===(null==e?void 0:e.error)&&location.replace(r)});else if(location.origin.includes("xiapibuy")){var v,f,_,m,g,y,w,b,R,C,k,P,S=window.location.origin+"/api/seller_platform/nonce/callback/",E=window.btoa(JSON.stringify(((R={}).next=window.location.href,R))),O=e_();eC(((b={}).history=i,b.redirectType=d.External,b.shouldReplaceHistory=s,b.absoluteRedirectPath=eR(((w={isRelative:!1}).host="https://account.seller."+(Y.env[O]||"")+"shopee.com",w.path="/signin/oauth/identifier",(y={account_type:2}).client_id=V[O]||V.live,y.require_passwd=!0,y.login_types="[1,2,3,4,5]",y.redirect_uri=S,y.region=em(),y.response_type="tob_nonce",y.scope="profile",y.state=E,w.params=y,w)),b.relativeRedirectPath=eR(((g={isRelative:!0}).host=l,g.path=q,g.params=h,g)),b))}else eC(((P={}).history=i,P.redirectType=a,P.shouldReplaceHistory=s,P.absoluteRedirectPath=eR(((k={isRelative:!1}).host=l,k.path=q,k.params=h,k)),P.relativeRedirectPath=eR(((C={isRelative:!0}).host=l,C.path=q,C.params=h,C)),P))}function eS(e,t){return new Promise(function(i,r){setTimeout(function(){try{i(t())}catch(e){r(e)}},e)})}function eE(e,t){var i=Z();return Z.wZy||(Z.wZy=[]),(eE=function(t,r){t-=0;var n=Z.wZy[t];return n||(void 0===eE.wZC&&(eE.wZQ=function(e){for(var t,i,r="",n="",a=0,o=0;i=e.charAt(o++);~i&&(t=a%4?64*t+i:i,a++%4)&&(r+=String.fromCharCode(255&t>>(-2*a&6))))i="fihrngmvsaxjtezulcqwbodkypCWKBXHNSVTROEDFAMGUIPZYQJL2035694178+/=".indexOf(i);for(var s=0,c=r.length;s<c;s++)n+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,eE.wZC=!0),n=eE.wZQ(i[t]),Z.wZy[t]=n),n})(e,t)}var ex="1.12.23",eA=function(e){var t,i,r,n;ef(window.location.href)||null==(i=window)||null==(t=i.Sentry)||t.captureException(e,((n={}).tags=((r={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+ex,r),n))};function eO(e){var t=e.antiCrawlerConfig,i=e.response,r=e.pathname,n=e.platform,a=e.source,s=e.setRedirecting,l=e.getRedirecting,u=e.triggerAntiCrawlerCustomizedErrorPage,p=e.triggerAntiCrawlerForceLogin,h=e.triggerAntiCrawlerVerification,v=e.enablePopup;if(i&&t){if(i[3]?(M=(B=i)[4],q=B[0],j=B[1],J=B[2],V=B[3],W=null==(z=B[6])?void 0:z[0],K=null==z?void 0:z[1]):(M=(B=i).challenge_type,q=B.action_type,j=B.tracking_id,J=B.is_login,V=B.error,W=null==(D=B.captcha_extra_info)?void 0:D.tracking_id,K=null==(L=B.captcha)?void 0:L.business),V!==G.t||location.href.includes("/verify/traffic")||location.href.includes("/verify/captcha")||l&&s&&l())return;if(q===c.Block){var f=n===w.SHOPEELIVE?location.origin+"/pc/setup":t.homeUrl;return void u(((U={}).trackingId=j||"",U.shouldReplaceHistory=t.shouldReplaceHistory,U.redirectType=t.redirectType,U.isLoggedIn=J,U.verificationPageHost=t.verificationPageHost,U.homeUrl=f,U))}if(M===o.Captcha){var _=n==w.PC||n==w.RW?(K||"TSS")+"."+w[n]:a?(K||"TSS")+"."+a:t.appKey;if(!_)return;return void(v&&t.usePopupCaptcha?function(e){var t,i,r=e.appKey,n=e.scene,a=e.clientId,o=e.shouldReplaceHistory,s=e.antiBotTrackingId,c=e.verificationPageHost;if(ee){if(document.querySelector("#sfu-captcha-modal"))return;var l=document.createElement("div");l.setAttribute("id","sfu-captcha-modal"),l.classList.add("sfu-captcha-modal"),l.classList.add("open");var u=document.createElement("div");u.classList.add("sfu-captcha-modal-body"),l.appendChild(u);var p=document.createElement("iframe"),h=((i={is_initial:!0}).app_key=r,i.scene=void 0===n?"crawler_item":n,i.client_id=a,i.redirect_type=d.Internal,i.use_popup=!0,i.should_replace_history=o,i.anti_bot_tracking_id=s,i.__mobile__="1",i),v=eR(((t={isRelative:!1}).host=c||window.location.protocol+"//"+window.location.host,t.path=N,t.params=h,t));p.setAttribute("src",v),p.setAttribute("name","sfu-captcha-modal-iframe"),p.style.width="100%",p.style.height="100%",u.appendChild(p),document.body.appendChild(l),document.body.classList.add("sfu-captcha-modal-open");var f=document.createElement("script");f.setAttribute("type","text/javascript");var _=document.createTextNode(`
    function closeSFUCaptchaModal() {
        var sfuCaptchaModal = document.querySelector('#sfu-captcha-modal');
        if(sfuCaptchaModal){
          sfuCaptchaModal.remove();
        }
        document.body.classList.remove('sfu-captcha-modal-open');
    }
    `);f.appendChild(_);var m=document.createElement("style");m.setAttribute("type","text/css");var g=document.createTextNode(`
    .sfu-captcha-modal {
        display: none;
        position: fixed; 
        inset: 0;
        background-color: rgba(0, 0, 0, .75);
        z-index: 100000;
        overflow: auto;
    }
    .sfu-captcha-modal.open {
        display: flex;
    }
    .sfu-captcha-modal-body {
        width: 80vw;
        max-width: 500px;
        min-width:  400px;
        height: 550px;
        margin: auto; 
        background: #fff;
    }
    .sfu-captcha-modal iframe {
      box-sizing: border-box;
    }
    body.sfu-captcha-modal-open {
        overflow: hidden;
    }`);m.appendChild(g),document.getElementsByTagName("head")[0].appendChild(m),document.getElementsByTagName("head")[0].appendChild(f)}}(((I={}).clientId=t.captchaClientId||"",I.next=t.next||location.href,I.appKey=_,I.scene="crawler_item",I.redirectType=t.redirectType,I.shouldReplaceHistory=t.shouldReplaceHistory,I.verificationPageHost=t.verificationPageHost,I.antiBotTrackingId=W,I)):h(((F={}).clientId=t.captchaClientId||"",F.next=t.next||location.href,F.appKey=_,F.scene="crawler_item",F.redirectType=t.redirectType,F.shouldReplaceHistory=t.shouldReplaceHistory,F.verificationPageHost=t.verificationPageHost,F.antiBotTrackingId=W,F.setRedirecting=s,F)))}if(M===o.Redirect){var m=e_(),g=em();if(m&&g){var y="https://"+(Y.cid[g]||"xiapi")+"."+(Y.env[m]||"")+"xiapibuy.com";location.replace(y)}return}if(M===o.ForceLogin){if(location.href.includes("/buyer/login")||location.href.includes("/buyer/authenticate"))return;var b,C,H,k,P,S,E,x,A,O,T,F,I,U,D,L,B,z,M,q,j,W,V,J,K,X,Z,$=location.pathname.startsWith("/product")&&location.href.includes("gads_t_sig");$&&(n===w.PC||n===w.RW)&&(window.BITrack?window.BITrack(((T={}).data=((O={type:"v3"}).timestamp=(new Date).getTime(),(A={operation:"action_sfu_handle"}).data=((x={code:1}).scenario=JSON.stringify(((E={}).response=i,E.pathname=r,E)),x),O.info=A,O),T)):ef(window.location.href)||null==(Z=window)||null==(X=Z.Sentry)||X.captureMessage("BITrack is not defined",((S={}).tags=((P={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+ex,P),S))),p(((k={}).next=t.next||location.href,k.redirectType=t.redirectType,k.shouldReplaceHistory=t.shouldReplaceHistory,k.verificationPageHost=t.verificationPageHost,k.isFromGoogleAdsPDP=$,k.trackingId=j||"",k))}if(M===o.FORCE_DOWNLOAD_APP)return void u(((H={}).trackingId=j||"",H.shouldReplaceHistory=t.shouldReplaceHistory,H.redirectType=t.redirectType,H.verificationPageHost=t.verificationPageHost,H.error_type=R.FORCEAPP,H));if(M===o.FORCE_BIND_PHONE)return void u(((C={}).trackingId=j||"",C.shouldReplaceHistory=t.shouldReplaceHistory,C.redirectType=t.redirectType,C.verificationPageHost=t.verificationPageHost,C.error_type=R.BINDPHONE,C));if(M===o.VERIFY_PHONE)return void u(((b={}).trackingId=j||"",b.shouldReplaceHistory=t.shouldReplaceHistory,b.redirectType=t.redirectType,b.verificationPageHost=t.verificationPageHost,b.error_type=R.VERIFYPHONE,b))}}var eT=function(e,t,i,r){if(!e.allowCors&&!i||r&&e.limitMethods&&!e.limitMethods.some(function(e){return e.toLowerCase()===r.toLowerCase()}))return!1;switch(e.match){case"contain":if(t.includes(e.policyurl))return!e.exclude||!e.exclude.some(function(e){return t.includes(e)});break;case"regexp":if(e.policyurl.test(t))return!e.exclude||!e.exclude.some(function(e){return t.includes(e)});break;case"full":if(e.policyurl===t)return!0}return!1},eF=function(e,t,i,r){for(var n=0;n<e.length;n++){var a=e[n];if(eT(a,t,i,r))return a}},eI=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;(0,k._)(this,e),(0,S._)(this,"items",void 0),(0,S._)(this,"maxSize",void 0),this.items=[],this.maxSize=t}return(0,P._)(e,[{key:"enqueue",value:function(e){this.size()>=this.maxSize&&(this.dequeue(),(0,E._)(e,eL)&&this.items[0].civid),this.items.push(e)}},{key:"dequeue",value:function(){return this.isEmpty()?"Underflow":this.items.shift()}},{key:"isEmpty",value:function(){return 0===this.items.length}},{key:"size",value:function(){return this.items.length}},{key:"getItems",value:function(){return this.items}}]),e}(),eU=function(){function e(t,i){(0,k._)(this,e),(0,S._)(this,"key",void 0),(0,S._)(this,"timestamp",void 0),this.key=t,this.timestamp=i}return(0,P._)(e,[{key:"serialize",value:function(){var e=new ArrayBuffer(6),t=new DataView(e);return t.setUint16(0,this.key),t.setUint32(2,this.timestamp),e}}]),e}(),eD=function(){function e(t,i,r){(0,k._)(this,e),(0,S._)(this,"x",void 0),(0,S._)(this,"y",void 0),(0,S._)(this,"timestamp",void 0),this.x=t,this.y=i,this.timestamp=r}return(0,P._)(e,[{key:"serialize",value:function(){var e=new ArrayBuffer(8),t=new DataView(e);return t.setUint16(0,this.x),t.setUint16(2,this.y),t.setUint32(4,this.timestamp),e}}]),e}(),eL=function(){function e(t,i,r,n,a,o,s,c,l,u,p){(0,k._)(this,e),(0,S._)(this,"operation",void 0),(0,S._)(this,"timestamp",void 0),(0,S._)(this,"civid",void 0),(0,S._)(this,"page_type",void 0),(0,S._)(this,"page_section",void 0),(0,S._)(this,"target_type",void 0),(0,S._)(this,"last_civ_id",void 0),(0,S._)(this,"itemidl",void 0),(0,S._)(this,"itemidr",void 0),(0,S._)(this,"shopidl",void 0),(0,S._)(this,"shopidr",void 0),this.operation=t,this.timestamp=i,this.civid=r,this.page_type=n,this.page_section=a,this.target_type=o,this.last_civ_id=s,this.itemidl=c,this.itemidr=l,this.shopidl=u,this.shopidr=p}return(0,P._)(e,[{key:"serialize",value:function(e){var t=new ArrayBuffer(34),i=new DataView(t);i.setUint8(0,this.operation),i.setUint32(1,this.timestamp),i.setUint8(5,e.indexOf(this.civid));for(var r=0;r<this.page_type.length;r++)i.setUint8(6+r,this.page_type.charCodeAt(r));for(r=0;r<this.page_section.length;r++)i.setUint8(11+r,this.page_section.charCodeAt(r));return i.setUint8(16,this.target_type),i.setUint8(17,e.indexOf(this.last_civ_id)),i.setUint32(18,this.itemidl),i.setUint32(22,this.itemidr),i.setUint32(26,this.shopidl),i.setUint32(30,this.shopidr),t}}]),e}(),eB=function(){function e(t,i,r,n,a,o,s,c){(0,k._)(this,e),(0,S._)(this,"basetimestampl",void 0),(0,S._)(this,"basetimestampr",void 0),(0,S._)(this,"cividmaplen",void 0),(0,S._)(this,"eventlen",void 0),(0,S._)(this,"oribitlen",void 0),(0,S._)(this,"cividmap",void 0),(0,S._)(this,"currentTimeOffset",void 0),(0,S._)(this,"nonce",void 0),this.basetimestampl=t,this.basetimestampr=i,this.cividmaplen=r,this.eventlen=n,this.oribitlen=a,this.cividmap=o,this.currentTimeOffset=s,this.nonce=c}return(0,P._)(e,[{key:"serialize",value:function(){var e=this.cividmap.length,t=new ArrayBuffer(23+e),i=new DataView(t);i.setUint32(0,this.basetimestampl),i.setUint32(4,this.basetimestampr),i.setUint8(8,this.cividmaplen),i.setUint8(9,this.eventlen),i.setUint8(10,this.oribitlen);for(var r=0;r<e;r++)i.setUint8(11+r,this.cividmap.charCodeAt(r));for(i.setUint32(11+e,this.currentTimeOffset),r=0;r<8;r++)i.setUint8(15+e+r,this.nonce[r]);return t}}]),e}(),ez=new eI(20),eN=new eI(21),eM=new eI(5),eq=new eI(5),ej={view:1,auto_view:2,click:3,impression:4,other:5},eW={item:1,shop:2,voucher:3,banner:4,category:5,skinny_banner:6,cluster:7,tab:8,other:9};function eV(){try{var e=void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart,t=Math.floor(performance.now());e<1e10&&(e*=1e3);var i=Math.floor(e/1e9),r=Math.floor(e%1e9),n=[];ez.getItems().map(function(e){n.includes(e.civid)||""===e.civid||n.push(e.civid),n.includes(e.last_civ_id)||""===e.last_civ_id||n.push(e.last_civ_id)}),eM.getItems().map(function(e){n.includes(e.civid)||""===e.civid||n.push(e.civid),n.includes(e.last_civ_id)||""===e.last_civ_id||n.push(e.last_civ_id)});var a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=new Uint8Array(e),i=0;i<e;i++)t[i]=Math.floor(256*Math.random());return t}(),o=new eB(i,r,n.length,ez.size()+eM.size(),eN.size(),n.join(""),t,a),s=23+o.cividmap.length+34*(ez.size()+eM.size())+8*eN.size()+6*eq.size(),c=new ArrayBuffer(s),l=new Uint8Array(c);l.set(new Uint8Array(o.serialize()),0);var u=23+o.cividmap.length;ez.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize(n)),u),u+=34)}),eM.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize(n)),u),u+=34)}),eN.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize()),u),u+=8)}),eq.getItems().map(function(e){(null==e?void 0:e.serialize)&&(l.set(new Uint8Array(e.serialize()),u),u+=6)});for(var p=btoa(String.fromCharCode.apply(null,Array.from(l))),d="",h=1,v=0;v<p.length;v++)p[v]===p[v+1]?h++:(d+=h>=5?"A|"+h+"|":p[v].repeat(h),h=1);return d}catch(e){return eA(e),"error"}}var eY,eJ,eK=((eJ={})["/webapi/v1/shop_page/replay/add"]={shouldReplaceHistory:"false"},eJ["/webapi/v1/host_config/permission"]={shouldReplaceHistory:"false"},eJ["/webapi/v1/item/my_shop"]={shouldReplaceHistory:"false"},eJ["/webapi/v1/item/my_likes"]={shouldReplaceHistory:"false"},eJ["/webapi/v1/item/my_recent"]={shouldReplaceHistory:"false"},eJ["/webapi/v1/item/parse_url"]={shouldReplaceHistory:"false"},eJ),eX=((eY={})["/api/v4/microsite/get_items"]={shouldReplaceHistory:"false"},eY["/api/v4/market_coin/get_product_feeds"]={shouldReplaceHistory:"false"},eY["/api/v2/add_on_deal/info"]={shouldReplaceHistory:"false"},eY["/api/v2/add_on_deal/get_main_item_info"]={shouldReplaceHistory:"false"},eY["/api/v2/add_on_deal/get_add_on_deal_list"]={shouldReplaceHistory:"false"},eY["/api/v2/add_on_deal/get_sub_item_info"]={shouldReplaceHistory:"false"},eY["/api/v4/flash_sale/flash_sale_get_items"]={shouldReplaceHistory:"false"},eY["/api/v4/flash_sale/spm/get_all_itemids"]={shouldReplaceHistory:"false"},eY["/api/v4/pdp/other_quantities/get"]={shouldReplaceHistory:"false"},eY["/api/v4/product/get_shop_info"]={shouldReplaceHistory:"false"},eY["/api/v4/search/search_prefills"]={shouldReplaceHistory:"false"},eY["/api/v4/search/search_hint"]={shouldReplaceHistory:"false"},eY["/api/v4/search/trending_search"]={shouldReplaceHistory:"false"},eY);function eG(e){var t,r,n,a,o=e.locale,s=e.env,c=e.platform,l=e.source,u=e.enableGlobalHook,p=e.enableTMS,h=e.baseUrl,v=void 0===h?"":h,f=e.shouldAppendHost,m=(e.allowShortDfp,e.headers),g=e.enablePopup,y=e.handleMaintenanceModeResponse,b=e.policies,R=e.performanceTrackings,C=e.onError,k=e.onJsonResponse,P=void 0===k?function(){}:k,N=(r={},c==w.PC||c==w.RW?r=eX:c===w.SHOPEELIVE&&(r=eK),r),M=function(e){var t,r=e.locale,n=e.env,a=e.platform,o=e.source,s=e.ACConfig,c=e.performanceTrackings,l=void 0===c?W:c,u=e.enableGlobalHook,p=e.enableTMS,h=e.enablePopup,v=e.policies,f=e.onError,m=void 0===f?function(){}:f,g=null,y=null,b=null,R=null,C=null,k=null,P=!1;function N(){P=!0}function M(){return P}function q(e){(a===w.PC||a===w.RW)&&eA(e)}function j(e){return(0,H._)(function(e){var t,o,s,c,u,p,d,h,v,f;return(0,I.YH)(this,function(m){switch(m.label){case 0:if(t=e.history,s=void 0===(o=e.onFail)?function(){}:o,h=eE,!(a!==w.BANK&&(t&&(k=t),null==y&&null==b&&ee)))return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),l[h(0)].onInit(),l[h(1)].onInit(),[4,y=(0,H._)(function(){return(0,I.YH)(this,function(e){return[2,i.e(6476).then(i.bind(i,40159))]})})()];case 2:return g=m.sent(),l[h(1)].onComplete(),(r||n)&&(g.default?g.default.setSdkConfig((0,x._)({},r?((d={}).region=r,d):{},n?((p={}).env=n,p):{})):g.setSdkConfig((0,x._)({},r?((u={}).region=r,u):{},n?((c={}).env=n,c):{}))),b=g.default?g.default.initSdk(_.Dfp):g.initSdk(_.Dfp),R=eS(5e3,function(){return{timeout:!0}}),C=eS(1e3,function(){return{timeout:!0}}),l[h(0)].onComplete(),[3,4];case 3:return q(m.sent()),null==(v=(f=l[h(0)]).onFail)||v.call(f),s(),[3,4];case 4:return[2]}})}).apply(this,arguments)}function V(){var e,t=function(e){for(var t="",i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}(function(){for(var e=new Uint8Array(8),t=0;t<8;t++)e[t]=Math.floor(256*Math.random());return e}());return(e={})["af-ac-enc-dat"]=t,e}function Y(){return(0,H._)(function(){var e,t,i,r=arguments;return(0,I.YH)(this,function(n){switch(n.label){case 0:t=void 0!==(e=(r.length>0&&void 0!==r[0]?r[0]:{}).shouldWaitForDfpInit)&&e,n.label=1;case 1:return n.trys.push([1,4,,5]),[4,y];case 2:return n.sent(),[4,Promise.race([b,t?R:C])];case 3:return[2,(n.sent(),g.default?g.default.getClientCheckData():g.getClientCheckData())];case 4:return[2,(q(i=n.sent()),m(i),"")];case 5:return[2]}})}).apply(this,arguments)}function G(){return""+ex}function Z(){return(0,H._)(function(){var e;return(0,I.YH)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,y];case 1:return t.sent(),[2,(e=g.default?g.default.getDegradedData():g.getDegradedData())&&"string"==typeof e?(0,T._)(e).some(function(e){return e.charCodeAt(0)>127})?"":e:""];case 2:return t.sent(),[2,""];case 3:return[2]}})})()}return function(){if(ee&&u&&!window.__fu_hook){window.__fu_hook=!0,p&&function(){try{document.addEventListener("keydown",function(e){try{var t,i=performance.now();if(void 0!==e.key&&null!==e.key)1==e.key.length?t=new eU(e.key.charCodeAt(0),i):e.key.length>1&&(t=new eU(e.key.charCodeAt(0)<<8|e.key.charCodeAt(e.key.length-1),i)),eq.enqueue(t);else if(void 0!==e.keyCode){var r=new eU(e.keyCode,i);eq.enqueue(r)}}catch(e){return eA(e),"error"}}),navigator.maxTouchPoints>0?(document.addEventListener("touchmove",function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new eD(t[0].clientX+1e4,t[0].clientY,i);eN.enqueue(r)}}}catch(e){return eA(e),"error"}}),document.addEventListener("touchend",function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new eD(t[0].clientX+1e4,t[0].clientY,i);eN.enqueue(r)}}}catch(e){return eA(e),"error"}})):(document.addEventListener("mousemove",function(e){try{var t=performance.now(),i=new eD(e.clientX,e.clientY,t);eN.enqueue(i)}catch(e){return eA(e),"error"}}),document.addEventListener("click",function(e){try{var t=performance.now(),i=new eD(e.clientX+1e4,e.clientY,t);eN.enqueue(i)}catch(e){return eA(e),"error"}}))}catch(e){eA(e)}if("function"==typeof window.IDBObjectStore){var e=IDBObjectStore.prototype.add;try{IDBObjectStore.prototype.add=function(t,i){try{if("object"==(void 0===t?"undefined":(0,F._)(t))&&null!==t&&null!==t.data&&void 0!==t.data){var r=JSON.parse(t.data);if(null!==r.operation&&void 0!==r.operation){var n=-1!==ej[r.operation]?ej[r.operation]:0,a=r.event_timestamp-(void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart),o=r.civ_id.replace(/-/g,""),s=r.page_type.slice(0,5),c=r.page_section.slice(0,5),l=0;""!=r.target_type&&null!==r.target_type&&(l=eW[r.target_type]?eW[r.target_type]:9);var u="";null!==r.last_civ_id&&void 0!==r.last_civ_id&&(u=r.last_civ_id.replace(/-/g,""));var p=0,d=0;if(null!==r.data&&void 0!==r.data){var h=r.data;if(null!==h.viewed_objects&&void 0!==h.viewed_objects&&h.viewed_objects.length>0){var v=h.viewed_objects[0];null!=v&&(null!==v.ctx_itemid&&void 0!==v.ctx_itemid&&(p=v.ctx_itemid),null!==v.itemid&&void 0!==v.itemid&&(p=v.itemid),null!==v.item_id&&void 0!==v.item_id&&(p=v.item_id),null!==v.ctx_shopid&&void 0!==v.ctx_shopid&&(d=v.ctx_shopid),null!==v.shopid&&void 0!==v.shopid&&(d=v.shopid),null!==v.shop_id&&void 0!==v.shop_id&&(d=v.shop_id))}}var f=Math.floor(p/1e9),_=p%1e9,m=Math.floor(d/1e9),g=d%1e9;3==n?eM.enqueue(new eL(n,a,o,s,c,l,u,f,_,m,g)):ez.enqueue(new eL(n,a,o,s,c,l,u,f,_,m,g))}}}catch(e){eA(e)}return e.call(this,t,i)}}catch(e){eA(e)}}}();var e=window.fetch;window.fetch=function(){for(var t=arguments.length,i=Array(t),c=0;c<t;c++)i[c]=arguments[c];return(0,H._)(function(){var t,c,u,f,_,m,g,y,b,R,C,H,P,U,D,W,Y,$,Q,ee,et,ei,er,en,ea,eo,es,ec,el,eu;return(0,I.YH)(this,function(I){switch(I.label){case 0:y=(g=(0,O._)(i,2))[0],b=g[1],I.label=1;case 1:if(I.trys.push([1,10,,11]),H=(C=window.Request&&(0,E._)(y,Request)?new URL(y.url,window.location.origin):new URL(y.toString(),window.location.origin)).origin===window.location.origin,P=C.pathname.replace(/\/+$/,""),U=null==b||null==(R=b.method)?void 0:R.toLowerCase(),D=performance.now(),Y=!1,W=!1,(null==b?void 0:b.anticrawler)&&(W=!0),p&&(J.some(function(e){return P===e})||K.some(function(e){return P===e})||X.some(function(e){return P===e}))&&(Y=!0),!W&&v&&Array.isArray(v)&&v.length>0&&(W=!!eF(v,P,H,U)),!W)return[3,3];return l.hookFUFetch.onInit(),j({}),$=G(),[4,Z()];case 2:Q=I.sent(),ee=V(),window.Request&&(0,E._)(y,Request)?(y.headers.set(B,$),y.headers.set(L,Q),Object.entries(ee).forEach(function(e){var t=(0,O._)(e,2),i=t[0],r=t[1];y.headers.set(i,r)}),Y&&(er=eV(),y.headers.set(z,er))):b?Array.isArray(b.headers)?(b.headers.push([B,$]),b.headers.push([L,Q]),Object.entries(ee).forEach(function(e){var t=(0,O._)(e,2),i=t[0],r=t[1];(null==b?void 0:b.headers).push([i,r])}),Y&&(en=eV(),b.headers.push([z,en]))):b.headers=(0,x._)((0,A._)((0,x._)({},b.headers,ee),(et={},(0,S._)(et,L,Q),(0,S._)(et,B,$),et)),Y?((m={})[z]=eV(),m):{}):((_={}).headers=(0,x._)((0,A._)((0,x._)({},ee),(ei={},(0,S._)(ei,L,Q),(0,S._)(ei,B,$),ei)),Y?((f={})[z]=eV(),f):{}),b=_),(a===w.PC||a===w.RW)&&(window.__SFUC||(window.__SFUC=0),window.__SFUC++),ea=Math.floor(performance.now()-D),(null==b?void 0:b.anticrawler)||l.hookFUFetch.onComplete(ea),I.label=3;case 3:return[4,e(y,b)];case 4:if(!(eo=I.sent())||!eo.ok)return[2,eo];I.label=5;case 5:if(I.trys.push([5,8,,9]),es=eo.status,!(W&&es>=200&&es<300&&204!==es)||!((ec=eo.headers.get("content-type"))&&ec.includes("application/json")))return[3,7];return[4,eo.clone().json()];case 6:if(!(el=I.sent())||"object"!=(void 0===el?"undefined":(0,F._)(el))||Array.isArray(el))return[2,eo];eu=(null==b?void 0:b.anticrawler)?b.anticrawler:null==s?void 0:s[P],eO((c=eE,(u={}).antiCrawlerConfig=(0,A._)((0,x._)({redirectType:a==w.PC||a==w.RW?d.Internal:d.External,verificationPageHost:a==w.PC||a==w.RW?location.origin:ew(((t={}).env=n||"live",t.locale=r||"SG",t))},eu),{shouldReplaceHistory:!1!==(null==eu?void 0:eu.shouldReplaceHistory)&&"false"!==(null==eu?void 0:eu.shouldReplaceHistory)}),u.response=el,u.pathname=P,u.platform=a,u.source=o,u.setRedirecting=N,u.getRedirecting=M,u[c(2)]=function(e){return ek((0,A._)((0,x._)({},e),{history:k}))},u[c(3)]=function(e){return eP((0,A._)((0,x._)({},e),{history:k}))},u[c(4)]=function(e){return eH((0,A._)((0,x._)({},e),{history:k}))},u.enablePopup=h,u)),I.label=7;case 7:return[2,eo];case 8:return[2,(q(I.sent()),eo)];case 9:return[3,11];case 10:return[2,(q(I.sent()),e.apply(void 0,(0,T._)(i)))];case 11:return[2]}})})()};var t=XMLHttpRequest.prototype.open,i=XMLHttpRequest.prototype.setRequestHeader,c=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];this.openargs=i,this.headers={},t.apply(this,i)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.headers[e]=t,i.call(this,e,t)},XMLHttpRequest.prototype.send=function(e){return(0,H._)(function(){var t,i,u,f,_,m,g,y,b,R,C,H,P,S;return(0,I.YH)(this,function(E){switch(E.label){case 0:if(E.trys.push([0,3,4,5]),t=this,i="",u=!1,f=!1,!this.openargs||(m=(_=new URL(this.openargs[1].toString(),window.location.origin)).origin===window.location.origin,i=_.pathname.replace(/\/+$/,""),g=this.openargs[0].toLowerCase(),y=performance.now(),v&&Array.isArray(v)&&v.length>0&&(u=!!eF(v,i,m,g)),p&&(J.some(function(e){return i===e})||K.some(function(e){return i===e})||X.some(function(e){return i===e}))&&(f=!0),!u))return[3,2];for(var O in l.hookFUXhr.onInit(),j({}),b=G(),this.headers[B]||this.setRequestHeader(B,b),R=V())this.headers[O]||this.setRequestHeader(O,R[O]);return[4,Z()];case 1:C=E.sent(),this.headers[L]||this.setRequestHeader(L,C),f&&(H=eV(),this.headers[z]||this.setRequestHeader(z,H)),(a===w.PC||a===w.RW)&&(window.__SFUC||(window.__SFUC=0),window.__SFUC++),P=Math.floor(performance.now()-y),l.hookFUXhr.onComplete(P),E.label=2;case 2:return S=this.onreadystatechange,this.onreadystatechange=function(){for(var e,c,l,p=arguments.length,v=Array(p),f=0;f<p;f++)v[f]=arguments[f];if(t.readyState===XMLHttpRequest.DONE)try{if(u&&t.status>=200&&t.status<300&&204!==t.status){var _=t.getResponseHeader("Content-Type");if(_&&!_.includes("application/json"))return;var m=t.responseType;if("blob"==m||"arraybuffer"==m||"document"==m)return;var g=m&&"text"!==m&&t.response?t.response:JSON.parse(t.responseText),y=null==s?void 0:s[i];eO((c=eE,(l={}).antiCrawlerConfig=(0,A._)((0,x._)({redirectType:a==w.PC||a==w.RW?d.Internal:d.External,verificationPageHost:a==w.PC||a==w.RW?location.origin:ew(((e={}).env=n||"live",e.locale=r||"SG",e))},y),{shouldReplaceHistory:"false"!==(null==y?void 0:y.shouldReplaceHistory)}),l.response=g,l.pathname=i,l.source=o,l.platform=a,l.setRedirecting=N,l.getRedirecting=M,l[c(2)]=function(e){return ek((0,A._)((0,x._)({},e),{history:k}))},l[c(3)]=function(e){return eP((0,A._)((0,x._)({},e),{history:k}))},l[c(4)]=function(e){return eH((0,A._)((0,x._)({},e),{history:k}))},l.enablePopup=h,l))}}catch(e){q(e)}null==S||S.apply(t,v)},[3,5];case 3:return q(E.sent()),[3,5];case 4:return c.call(this,e),[7];case 5:return[2]}})}).call(this)}}}(),(t={}).i=j,t.o=G,t.p=Z,t.l=function(){return(0,H._)(function(){var e,t;return(0,I.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,y];case 1:if(i.sent(),!g.default)return[3,3];return[4,g.default.getLongToken()];case 2:return t=i.sent(),[3,5];case 3:return[4,g.getLongToken()];case 4:t=i.sent(),i.label=5;case 5:return[2,(e=t)&&"string"==typeof e?e:""];case 6:return[2,(q(i.sent()),"")];case 7:return[2]}})})()},t.u=V,t.h=function(e){return eH((0,A._)((0,x._)({},e),{history:k}))},t.v=function(e){return ek((0,A._)((0,x._)({},e),{history:k}))},t.m=function(e){return eP((0,A._)((0,x._)({},e),{history:k}))},t._=Y,t.R=function(e){return(0,H._)(function(e){var t,i,r,n,a,o,s,c,l,u;return(0,I.YH)(this,function(p){switch(p.label){case 0:i=void 0!==(t=e.shouldWaitForDfpInit)&&t,r=e.useHeader,n=e.customDfp,p.label=1;case 1:return p.trys.push([1,7,,8]),[4,y];case 2:return p.sent(),[4,Promise.race([b,i?R:C])];case 3:if(p.sent(),"string"!=typeof n)return[3,4];return o=n,[3,6];case 4:return[4,Y(((u={})[eE(5)]=i,u))];case 5:o=p.sent(),p.label=6;case 6:return a=o,[2,r?a.length>=300?{}:((l={})[D]=a,l):((c={})[U]=a,c)];case 7:return[2,(q(s=p.sent()),m(s),{})];case 8:return[2]}})}).apply(this,arguments)},t.getRedirecting=M,t.setRedirecting=N,t.ACConfig=s,t}(((t={}).locale=o,t.platform=c,t.source=l,t.policies=b,t.env=s,t.ACConfig=N,t.performanceTrackings=void 0===R?W:R,t.enableTMS=p,t.enableGlobalHook=u,t.enablePopup=void 0!==g&&g,t.onError=void 0===C?function(){}:C,t)),q=M.i,j=M._,V=M.R,Y=M.v,Z=M.m,$=M.h,Q=M.o,et=(M.p,M.l);function ei(e,t,r){return(0,H._)(function(){var n,a,o,s,c,l,u,p,d,h,_;return(0,I.YH)(this,function(g){switch(g.label){case 0:return g.trys.push([0,4,,5]),n=(ee||/^(https?:)?\/\//.test(e))&&!f?e:""+v+e,a=(null==t?void 0:t.isFormData)?r||new FormData:JSON.stringify(r),o=(null==t?void 0:t.isFormData)?void 0:{Accept:"application/json","Content-Type":"application/json"},[4,(window.global=window,i.g&&i.g.fetch?i.g.fetch:fetch)(n,(0,A._)((0,x._)({method:t&&t.method?t.method:"GET",headers:(0,x._)({},o,(null==t?void 0:t.overideCreateSFUHeaders)?null==t?void 0:t.headers:(0,x._)({},m,null==t?void 0:t.headers))},t&&!1===t.withCredentials?{}:{credentials:"include"}),{body:a,signal:null==t?void 0:t.signal,anticrawler:null==t?void 0:t.antiCrawlerConfig}))];case 1:if(!((c=(s=g.sent()).status)>=200&&c<300))return[3,3];if((l=s.headers.get("content-type"))&&!l.includes("application/json"))return[2,s];return[4,s.json()];case 2:return[2,(P(u=g.sent(),s),"object"!=(void 0===u?"undefined":(0,F._)(u))||Array.isArray(u)?u:(0,A._)((0,x._)({},u),{__raw:s}))];case 3:return[2,408===c?((_={}).error=G.REQUEST_TIMEOUT,_.error_msg=c.toString(),_.__raw=s,_):(y&&y(s),(h={}).error=G.SERVER_ERROR,h.error_msg=null==c?void 0:c.toString(),h.__raw=s,h)];case 4:return p=g.sent(),[2,((d={}).error=G.SERVER_ERROR,d.error_msg=p,d)];case 5:return[2]}})})()}function er(e,t,i){return(0,H._)(function(){var r,n,a,o,s,c,l,u,p,d,h,v,f,_;return(0,I.YH)(this,function(m){switch(m.label){case 0:if(r=eE,a=(n=(null==i?void 0:i[r(6)])||{}).antiCrawler,o=n.apiProtection,(s=n.deviceFingerPrint)&&q({}),!s)return[3,2];return[4,V((u=eE,(p={}).useHeader=null==s?void 0:s.useHeader,p[u(5)]=s[u(5)]||!1,p.customDfp=s.customDfp,p))];case 1:return _=m.sent(),[3,3];case 2:_={},m.label=3;case 3:return d=_,h=(null==s?void 0:s.dataFormatter)?s.dataFormatter((null==s?void 0:s.useHeader)?d[D]||"":d[U]||""):d,v=(null==i?void 0:i.isFormData)||(null==s?void 0:s.useHeader)||(l=h)&&0===Object.keys(l).length&&Object.getPrototypeOf(l)===Object.prototype?t:(0,x._)({},t,h),f=a?M.u():{},[4,ei(e,((c={method:"POST"}).headers=(0,A._)((0,x._)({},null==i?void 0:i.headers,f,(null==s?void 0:s.useHeader)?h:{}),(0,S._)({},B,Q())),c.isFormData=null==i?void 0:i.isFormData,c.overideCreateSFUHeaders=null==i?void 0:i.overideCreateSFUHeaders,c.withCredentials=null==o?void 0:o.withCredentials,c.signal=null==i?void 0:i.signal,c.antiCrawlerConfig=a,c),v)];case 4:return[2,m.sent()]}})})()}return n=eE,(a={}).http=ei,a.get=function(e,t){return(0,H._)(function(){var i,r,n,a,o,s,c,l,u,p,d;return(0,I.YH)(this,function(h){switch(h.label){case 0:return i=eE,n=(r=(null==t?void 0:t[i(6)])||{}).antiCrawler,a=r.apiProtection,(o=r.deviceFingerPrint)&&q({}),[4,o?V(((l={useHeader:!0})[(c=eE)(5)]=o[c(5)]||!1,l.customDfp=o.customDfp,l)):Promise.resolve({})];case 1:return u=h.sent(),p=(null==o?void 0:o.dataFormatter)?o.dataFormatter(u["sz-token"]||""):u,d=n?M.u():{},[4,ei(e,((s={method:"GET"}).headers=(0,A._)((0,x._)({},null==t?void 0:t.headers,d,p),(0,S._)({},B,Q())),s.overideCreateSFUHeaders=null==t?void 0:t.overideCreateSFUHeaders,s.withCredentials=null==a?void 0:a.withCredentials,s.signal=null==t?void 0:t.signal,s.antiCrawlerConfig=n,s))];case 2:return[2,h.sent()]}})})()},a.post=er,a.postForm=function(e,t,i){return(0,H._)(function(){var r;return(0,I.YH)(this,function(n){for(var a in r=new FormData,t)r.append(a,t[a]);return[2,er(e,r,(0,A._)((0,x._)({},i),{isFormData:!0}))]})})()},a[n(0)]=function(e){var t;ee&&M.i(((t={}).history=null==e?void 0:e.history,t))},a[n(4)]=$,a[n(2)]=Y,a[n(3)]=Z,a[n(7)]=j,a.getLongToken=et,a}[{policyurl:"api/mydata",match:"contain",exclude:["api/mydata/homepage/key-metrics"]}].concat((0,T._)([{policyurl:/api\/v3\/affiliateplatform\/.*/,match:"regexp"},{policyurl:/api\/pas\/v1\/setup_helper\/.*/,match:"regexp"},{policyurl:"api/selleradmin/v1/product",match:"contain"},{policyurl:"api/marketing/v4/review_prize/get_products",match:"contain"},{policyurl:"api/marketing/v4/discount/global/get_items",match:"contain"},{policyurl:"api/v3/settings/reply_shop_rating",match:"contain"},{policyurl:"api/marketing/v3/public/product_selector",match:"contain"},{policyurl:/webchat\/api\/v1\.2\/mini\/order\/.*/,match:"regexp"},{policyurl:/webchat\/api\/v1\.2\/order\/.*\/rate_buyer/,match:"regexp"},{policyurl:/webchat\/api\/v1\.2\/order\/.*\/cancel/,match:"regexp"},{policyurl:"webchat/api/v1.2/mini/orders/orders_by_buyer",match:"contain"},{policyurl:"webchat/api/v1.2/orders/orders_by_buyer",match:"contain"},{policyurl:"api/mkt/cmt/bidding/bidding_list",match:"contain"},{policyurl:"api/mkt/cmt/nominated/nominated_entity_list",match:"contain"},{policyurl:"api/mkt/cmt/preview/preview_list",match:"contain"},{policyurl:"api/mkt/cmt/product/online/selector/verify",match:"contain"},{policyurl:"api/mkt/cmt/product/online/selector/verify_products_select_for_bid",match:"contain"},{policyurl:"api/crm/v1/product_selector",match:"contain"},{policyurl:"api/marketing/v4/graphql/query",match:"contain"},{policyurl:"api/marketing/v4/public/product_selector",match:"contain"},{policyurl:"api/marketing/v4/shop_flash_sale/batch_items/get",match:"contain"},{policyurl:"api/n/decoration/public/get_flash_sale_info",match:"contain"},{policyurl:"api/n/decoration/public/get_mega_campaign_items",match:"contain"},{policyurl:"api/marketing/v4/review_prize/get_recommend_products",match:"contain"},{policyurl:"api/marketing/v4/review_prize/get_svs_item_info",match:"contain"},{policyurl:"api/marketing/v4/review_prize/item/list",match:"contain"},{policyurl:"api/marketing/v4/review_prize/product_selector",match:"contain"},{policyurl:"api/marketing/v3/voucher/product_selector",match:"contain"},{policyurl:"api/v1/affiliateplatform/shop/itemsv2",match:"contain"},{policyurl:"api/v3/affiliateplatform/gql",match:"contain"},{policyurl:"api/tool/mass_product/get_unpublished_product_list",match:"contain"},{policyurl:"api/v2/message",match:"contain",allowCors:!0},{policyurl:"api/v2/solution",match:"contain",allowCors:!0},{policyurl:"api/v2/user_message_history",match:"contain",allowCors:!0},{policyurl:"api/v2/init_session",match:"contain",allowCors:!0},{policyurl:"api/v2/order_list",match:"contain",allowCors:!0}]))}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/mobilemall-static/_/sfu-stable.42d2159703f2d664.2017.js.map